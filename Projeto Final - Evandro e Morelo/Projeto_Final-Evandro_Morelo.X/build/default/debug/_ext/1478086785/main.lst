MPASM 5.87                          MAIN.ASM   10-3-2021  23:47:04         PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00001 ;*******************************************************************************
                      00002 ;    UNIVERSIDADE FEDERAL DE MATO GROSSO                                                             
                      00003 ;    ENGENHARIA ELÉTRICA                                                                                
                                           
                      00004 ;    MICROPROCESSADORES                                                                                 
                                          
                      00005 ;    DATE: 2021/2                                                                                       
                                                         
                      00006 ;    DISCENTES:                                                                                         
                                                       
                      00007 ;    EVANDRO FERNANDES LEDEMA                                                                    
                      00008 ;    MATHEUS MORELO PEREIRA
                      00009 ;    USUÁRIOS: 123, 666, 111, 157, 124
                      00010 ;    SENHAS:12345, 11246, 22222, 69171, 56398
                      00011 ;*******************************************************************************
                      00012         list    p=16f877a       
                      00013         #include        <p16f877a.inc>
                      00001         LIST
                      00002 
                      00003 ;==========================================================================
                      00004 ; Build date : Jan 06 2020
                      00005 ;  MPASM PIC16F877A processor include
                      00006 ; 
                      00007 ;  (c) Copyright 1999-2020 Microchip Technology, All rights reserved
                      00008 ;==========================================================================
                      00009 
                      00567         LIST
                      00014         #include        <macros.inc>
                      00001 banco0  macro
                      00002         bcf     STATUS, RP0
                      00003         endm
                      00004 
                      00005 banco1  macro
                      00006         bsf     STATUS, RP0
                      00007         endm
2007   2F02           00015         __CONFIG H'2F02'
                      00016         ERRORLEVEL -302, -305  
                      00017 
                      00018 ;======================================================================
                      00019         cblock  0x20
  00000020            00020                 dig1,dig2,dig3,dig4,dig5,user1,user2,user3,Loper
                      00021         endc
                      00022         org     0x00
0000   2???           00023         goto    setup
                      00024         org     0x04
                      00025         #include        "up_md_teclado_4x4.asm"
                      00001 #Define     Linha1      PORTC,3
                      00002 #Define     Linha2      PORTC,2
                      00003 #Define     Linha3      PORTC,1
                      00004 #Define     Linha4      PORTC,0
                      00005 
                      00006 #Define     Col1        PORTB,0
                      00007 #Define     Col2        PORTB,1
MPASM 5.87                          MAIN.ASM   10-3-2021  23:47:04         PAGE  2


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00008 #Define     Col3        PORTB,2
                      00009 #Define     Col4        PORTB,3
                      00010 
                      00011         cblock
  00000029            00012            tecla,conta_kp,fpress,ptr_car
                      00013         endc
                      00014 
0004                  00015 ascii_key:
0004   0782           00016         addwf   PCL,F
0005   3441 3430 3445 00017         dt              "A0E+123-456*789/"
       342B 3431 3432 
       3433 342D 3434 
       3435 3436 342A 
       3437 3438 3439 
       342F 
                      00018 
0015                  00019 Inicia_teclado:
0015   300F           00020         movlw   0x0F
0016   0487           00021         iorwf   PORTC,F         ;desabilita linhas
                      00022         banco1
0017   1683               M         bsf     STATUS, RP0
0018   0486           00023         iorwf   TRISB,F         ;PORTB<3:0> input
0019   30F0           00024         movlw   0xF0
001A   0587           00025         andwf   TRISC,F         ;PORTC<3:0> output
                      00026         banco0
001B   1283               M         bcf     STATUS, RP0
001C   0008           00027         return
                      00028 
001D                  00029 teclado:
001D   01AB           00030         clrf    fpress
001E   01AA           00031         clrf    conta_kp
001F   03AA           00032         decf    conta_kp,F              ; conta_kp = -1
                      00033 ;varredura de linha_1
0020   1187           00034         bcf     Linha1          ; habilita linha 1
0021   2???           00035         call    scan_cols               ; varredura das 4 colunas
0022   1587           00036         bsf     Linha1          ; desabilita linha 1
                      00037 ;varredura de linha_2
0023   1107           00038         bcf     Linha2          ; habilita linha 2
0024   2???           00039         call    scan_cols               ; varredura das 4 colunas
0025   1507           00040         bsf     Linha2          ; desabilita linha 2
                      00041 ;varredura de linha_3
0026   1087           00042         bcf     Linha3          ; habilita linha 3
0027   2???           00043         call    scan_cols               ; varredura das 4 colunas
0028   1487           00044         bsf     Linha3          ; desabilita linha 3
                      00045 ;varredura de linha_4
0029   1007           00046         bcf     Linha4          ; habilita linha 4
002A   2???           00047         call    scan_cols               ; varredura das 4 colunas
002B   1407           00048         bsf     Linha4          ; desabilita linha 4
                      00049 ;sair de sub-rotina de teclado
002C   0008           00050         return
                      00051 
                      00052 ;Varredura das 4 colunas para detectar tecla pressionada
                      00053 ;Testa se algum pino de PORTB<3:0> está em zero
MPASM 5.87                          MAIN.ASM   10-3-2021  23:47:04         PAGE  3


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

002D                  00054 scan_cols:
002D   0AAA           00055         incf    conta_kp,F          ;incrementa apontador de teclas
002E   1C06           00056         btfss   Col1        ;se não detecta press na col1, pula
                      00057                             ;se detecta press, irá para codificar a tecla
002F   2???           00058         goto    codifica            ; 0:[A=on], 4:[1], 8:[4], 12:[7]
0030   0AAA           00059         incf    conta_kp,F
0031   1C86           00060         btfss   Col2        ;se não detecta press na col2, pula
0032   2???           00061         goto    codifica            ; 1:[0], 5:[2], 9:[5], 13:[8]
0033   0AAA           00062         incf    conta_kp,F
0034   1D06           00063         btfss   Col3        ;se não detecta press na col3, pula
0035   2???           00064         goto    codifica            ; 2:[E=exe], 6:[3], 10:[6], 14:[9]
0036   0AAA           00065         incf    conta_kp,F
0037   1D86           00066         btfss   Col4        ;se não detecta press na col4, pula
0038   2???           00067         goto    codifica            ; 3:[+], 7:[-], 11:[*], 15:[/]
0039   0008           00068         return
003A                  00069 codifica:
003A   082A           00070         movfw   conta_kp            ;apontador tem localização da tecla press
003B   2???           00071         call    ascii_key           ;obtem o ASCII da tecla press
003C   00A9           00072         movwf   tecla       ;tecla = ASCII(tecla press)
003D   142B           00073         bsf     fpress,0            ;ativa flag, indica que uma tecla foi press
003E                  00074 ld_deb:
003E   2???           00075         call    delay_50ms          ;p/debouncing
003F   1C06           00076         btfss   Col1
0040   2???           00077         goto    ld_deb      ;espera a tecla de col1, ser solta
0041   1C86           00078         btfss   Col2
0042   2???           00079         goto    ld_deb      ;espera a tecla de col2, ser solta
0043   1D06           00080         btfss   Col3
0044   2???           00081         goto    ld_deb      ;espera a tecla de col3, ser solta
0045   1D86           00082         btfss   Col4
0046   2???           00083         goto    ld_deb      ;espera a tecla de col4, ser solta
0047   0008           00084         return
                      00026 ;======================================================================
                      00027 
                      00028 ;se fpress<0> retorna com 0, a tecla não é de um BCD
0048                  00029 checa_BCD:
0048   102B           00030         bcf     fpress,0                ;limpa flag
0049   3030           00031         movlw   0x30                    
004A   0229           00032         subwf   tecla,W         ;tecla - 0x30 
004B   1C03           00033         btfss   STATUS,C                ;C=1: 0x30 <= tecla
004C   0008           00034         return                  ;BCD inválido
004D   0829           00035         movfw   tecla   
004E   3C39           00036         sublw   0x39            ;0x39 - tecla
004F   1803           00037         btfsc   STATUS,C                ;C=1: tecla <= 0x39
0050   142B           00038         bsf     fpress,0                ;indica BCD válido
0051   0008           00039         return
                      00040         
                      00041 ;*******************************************************************************
                      00042 ; MAIN PROGRAM
                      00043 ;*******************************************************************************
                      00044 
0052                  00045 setup:  
0052   2???           00046         call    Inicia_teclado  ;configura PORTB e PORTC
0053   2???           00047         call    Inicia_LCD              ;configura o módulo LCD e Portas
MPASM 5.87                          MAIN.ASM   10-3-2021  23:47:04         PAGE  4


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0054   2???           00048         call    Iniciar_senhas  ;configura usuarios iniciais, Ex: 123
0055   2???           00049         call    Set_password    ;configura senhas para cada usuário, Ex:12345
                      00050         banco0                  ;Banco 0
0056   1283               M         bcf     STATUS, RP0
0057   0185           00051         clrf    PORTA           ;Inicializa PORTA
                      00052         banco1                  ;Banco 1
0058   1683               M         bsf     STATUS, RP0
0059   3006           00053         movlw   0x06            ;Configura todos os pinos
005A   009F           00054         movwf   ADCON1          ;como entrada digitais.
005B   3000           00055         movlw   0x00            ;Valor utilizado para direção de dado
005C   0085           00056         movwf   TRISA           ;RA<5:0> como saídas. TRISA<7:6> são sempre lidas como '0'.
                      00057         banco0                  ;Banco 0
005D   1283               M         bcf     STATUS, RP0
005E   1005           00058         bcf     PORTA,0         ;Seta bit RA0 para 0
005F   1085           00059         bcf     PORTA,1         ;Seta bit RA1 para 0
0060   2???           00060         call    envia_msg_LCD   ;mostra mensagem no LCD: "PRESSIONE ON/C PARA INICIAR".
                      00061 
                      00062 ;***************************************************************************************************
                      00063 ;   MAIN()
                      00064 ;   PROGRAMA PRINCIPAL QUE CONTÉM OS LOOPS PARA O FUNCIONAMENTO DA FECHADURA
                      00065 ;   ELETRÔNICA.
                      00066 ;****************************************************************************************************
0061                  00067 main:   
                      00068         ;loop - aguarda o usuário pressionar uma tecla
                      00069         ;=======================================================
0061   2???           00070         call    teclado         ; para ler operador
0062   1C2B           00071         btfss   fpress,0                ; testa para saber se foi pressionado
0063   2???           00072         goto    $-2             ; fica no loop até ler tecla press
                      00073         ;=======================================================
0064                  00074 ON_C:   ;valida operador ON/C
0064   3041           00075         movlw   'A'             ;[A] = ON/C no teclado matricial
0065   0629           00076         xorwf   tecla,W         ; tecla [ON/C]
0066   1D03           00077         btfss   STATUS,Z                ;Caso a tecla pressionada for ON/C pula proxima instrução.
0067   2???           00078         goto    ON_C - .3               ; operador inválido, retorna
0068   2???           00079         call    envia_msg_menu_LCD      ; Envia Mensagem LCD: MENU PRESSIONE 1-ABRIR,2-OPCOES
0069                  00080 TECLA_1_2:
                      00081         ;loop - aguarda o usuário pressionar uma tecla
                      00082         ;======================================================
0069   2???           00083         call    teclado         ; para ler operador
006A   1C2B           00084         btfss   fpress,0                ;testa para saber se foi pressionado
006B   2???           00085         goto    TECLA_1_2               ; fica no loop até ler tecla press
                      00086         ;=======================================================
006C   3031           00087         movlw   '1'             ;1 = [1] no teclado matricial
006D   0629           00088         xorwf   tecla,W         ; tecla [1]
006E   1D03           00089         btfss   STATUS,Z                ;Caso a tecla pressionada for 1 pula proxima instrução.
006F   2???           00090         goto    Testa_2         ;Pula para o segundo teste
0070   2???           00091         call    envia_msg_entrar_LCD    ;Envia Mensagem LCD: USUARIO:
0071   30C0           00092         movlw   LCD_Linha_2     ;2 linha
0072   2???           00093         call    EnviaCmdLCD     ;Habilita 2 linha LCD
                      00094 ;================================================================
                      00095 ;Lê 1° operando
0073                  00096 Lop1:
                      00097         ;loop - aguarda o usuário pressionar uma tecla
MPASM 5.87                          MAIN.ASM   10-3-2021  23:47:04         PAGE  5


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00098         ;=======================================================
0073   2???           00099         call    teclado         ; para ler operador
0074   1C2B           00100         btfss   fpress,0                ;;testa para saber se foi pressionado
0075   2???           00101         goto    Lop1            ; fica no loop até ler BCD1
                      00102         ;=======================================================
0076   2???           00103         call    checa_BCD               ; tecla = [0x30,0x39]
0077   1C2B           00104         btfss   fpress,0                ; Caso BCD válido pula próxima instrucão
0078   2???           00105         goto    Lop1            ; BCD1 inválido, retorna
0079   0829           00106         movfw   tecla           ; move bcd selecionado para registrador tecla que será usado para enviar
                             informação LCD
007A   00A5           00107         movwf   user1           ; move bcd selecionado para registrador user1 que será usado para regist
                            rar dado entrado
007B   2???           00108         call    EnviaCarLCD     ; Envia BCD para LCD
                      00109 ;================================================================
007C                  00110 Usuario_2dig:
                      00111         ;loop - aguarda o usuário pressionar uma tecla
                      00112         ;=======================================================
007C   2???           00113         call    teclado         ; para ler operador
007D   1C2B           00114         btfss   fpress,0                ; lê BCD2 do usuário
007E   2???           00115         goto    $-2             ; fica no loop até ler BCD2 ...
                      00116         ;=======================================================
007F   2???           00117         call    checa_BCD               ; tecla = [0x30,0x39]
0080   1C2B           00118         btfss   fpress,0                ; pula BCD2 válido
0081   2???           00119         goto    Usuario_2dig            ; retorna se inválido
0082   0829           00120         movfw   tecla           ; move bcd2 selecionado para registrador tecla que será usado para envia
                            r informação LCD
0083   00A6           00121         movwf   user2           ; move bcd2 selecionado para registrador user1 que será usado para regis
                            trar dado entrado
0084   2???           00122         call    EnviaCarLCD     ; Envia BCD2 para LCD
                      00123 ;=================================================================
0085                  00124 Usuario_3dig:
                      00125         ;loop - aguarda o usuário pressionar uma tecla
                      00126         ;=======================================================
0085   2???           00127         call    teclado         ; para ler operador
0086   1C2B           00128         btfss   fpress,0                ; lê BCD3 do usuário
0087   2???           00129         goto    $-2             ; fica no loop até ler BCD3 ...
                      00130         ;=======================================================
0088   2???           00131         call    checa_BCD               ; tecla = [0x30,0x39]
0089   1C2B           00132         btfss   fpress,0                ; pula de BCD3 válido
008A   2???           00133         goto    Usuario_3dig            ; vai verificar se é operador
008B   0829           00134         movfw   tecla           ; move bcd3 selecionado para registrador tecla que será usado para envia
                            r informação LCD
008C   00A7           00135         movwf   user3           ; move bcd3 selecionado para registrador user1 que será usado para regis
                            trar dado entrado
008D   2???           00136         call    EnviaCarLCD     ; Envia BCD3 para LCD
                      00137 ;=================================================================
                      00138         ;loop - aguarda o usuário pressionar uma tecla
                      00139         ;========================================================
008E   2???           00140         call    teclado         ; para ler operador
008F   1C2B           00141         btfss   fpress,0                ; lê confirmação de envio
0090   2???           00142         goto    $-2             ; fica no loop até ler confirmação de envio ...
                      00143         ;=========================================================
0091                  00144 Enviar_user:
MPASM 5.87                          MAIN.ASM   10-3-2021  23:47:04         PAGE  6


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00145         ;valida operador [=]
0091   3045           00146         movlw   'E'             ; [E] é [=] no teclado matricial
0092   0629           00147         xorwf   tecla,W         ; tecla [=]
0093   1D03           00148         btfss   STATUS,Z                ; se for tecla [=] pula a proxima instrução
0094   2???           00149         goto    Enviar_user - .3        ; operador inválido, retorna para loop de espera de pressionar t
                            ecla
0095   2???           00150         call    Verify_user             ; Verifica se o usuário digitado existe
0096   18CC           00151         btfsc   flag_user_err,F ;  testa, se flag = 0,  usuário existe, pula proxima instrução.
0097   2???           00152         goto    Usuario_erro            ; vai para tratamento de erro de usuário
0098   2???           00153         goto    Enviar_msg_senha        ; dá continuidade ao programa e envia mensagem: "SENHA:"
                      00154         
0099                  00155 Usuario_erro:
                      00156         ;TRATAMENTO DE ERRO DE USUÁRIO NÃO ENCONTRADO
0099   2???           00157         call    envia_msg_erro_LCD      ;Envia mensagem: "USUARIO NAO ENCONTRADO", espera 1s e segue;
009A   2???           00158         call    envia_msg_entrar_LCD    ;Envia mensagem: "USUARIO:"
009B   30C0           00159         movlw   LCD_Linha_2     ; habilita linha 2
009C   2???           00160         call    EnviaCmdLCD     ; envia comando habilitando linha 2
009D   10A5           00161         bcf     user1,F         ; limpa registradores
009E   10A6           00162         bcf     user2,F         ; com o usuário entrado
009F   10A7           00163         bcf     user3,F         ; no sistema
00A0   2???           00164         goto    Lop1            ; volta para o inicio do loop para que o usuário faça uma nova tentativa
                      00165 
00A1                  00166 Enviar_msg_senha:
00A1   2???           00167         call    envia_msg_senha_LCD     ; Enviar mensagem: "SENHA:"
00A2   30C0           00168         movlw   LCD_Linha_2     ; habilita linha 2
00A3   2???           00169         call    EnviaCmdLCD     ; envia comando que habilita 2 linha
                      00170 ;======================================================================
                      00171 ;Lê 1° operando
00A4                  00172 Lop2:
                      00173         ;loop - aguarda o usuário pressionar uma tecla
                      00174         ;=============================================================
00A4   2???           00175         call    teclado         ; para ler operador
00A5   1C2B           00176         btfss   fpress,0                ; lê BCD1 da senha
00A6   2???           00177         goto    Lop2            ; fica no loop até ler BCD1
                      00178         ;=============================================================
00A7   2???           00179         call    checa_BCD               ; tecla = [0x30,0x39]
00A8   1C2B           00180         btfss   fpress,0                ; pula de BCD1 válido
00A9   2???           00181         goto    Lop2            ; BCD1 inválido, retorna
00AA   0829           00182         movfw   tecla           ; move bcd1 selecionado para registrador tecla que será usado para envia
                            r informação LCD
00AB   00A0           00183         movwf   dig1            ; move bcd1 selecionado para registrador user1 que será usado para regis
                            trar dado entrado
00AC   2???           00184         call    EnviaCarLCD     ; Envia BCD1 para LCD
                      00185 ;======================================================================
00AD                  00186 Senha_2dig:
                      00187         ;loop - aguarda o usuário pressionar uma tecla
                      00188         ;=============================================================
00AD   2???           00189         call    teclado         ; para ler operador
00AE   1C2B           00190         btfss   fpress,0                ; lê BCD2 da senha
00AF   2???           00191         goto    $-2             ; fica no loop até ler BCD2 ...
                      00192         ;=============================================================
00B0   2???           00193         call    checa_BCD               ; tecla = [0x30,0x39]
00B1   1C2B           00194         btfss   fpress,0                ; pula de BCD2 válido
MPASM 5.87                          MAIN.ASM   10-3-2021  23:47:04         PAGE  7


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00B2   2???           00195         goto    Senha_2dig              ; vai verificar se é operador
00B3   0829           00196         movfw   tecla           ; move bcd2 selecionado para registrador tecla que será usado para envia
                            r informação LCD
00B4   00A1           00197         movwf   dig2            ; move bcd2 selecionado para registrador user1 que será usado para regis
                            trar dado entrado
00B5   2???           00198         call    EnviaCarLCD     ; Envia BCD2 para LCD
                      00199 ;======================================================================
00B6                  00200 Senha_3dig:
                      00201         ;loop - aguarda o usuário pressionar uma tecla
                      00202         ;=============================================================
00B6   2???           00203         call    teclado         ; para ler operador
00B7   1C2B           00204         btfss   fpress,0                ; lê BCD3 da senha
00B8   2???           00205         goto    $-2             ; fica no loop até ler BCD3 ...
                      00206         ;=============================================================
00B9   2???           00207         call    checa_BCD               ; tecla = [0x30,0x39]
00BA   1C2B           00208         btfss   fpress,0                ; pula de BCD3 válido
00BB   2???           00209         goto    Senha_3dig              ; vai verificar se é operador
00BC   0829           00210         movfw   tecla           ; move bcd3 selecionado para registrador tecla que será usado para envia
                            r informação LCD
00BD   00A2           00211         movwf   dig3            ; move bcd3 selecionado para registrador user1 que será usado para regis
                            trar dado entrado
00BE   2???           00212         call    EnviaCarLCD     ; Envia BCD3 para LCD
                      00213 ;======================================================================
00BF                  00214 Senha_4dig:
                      00215         ;loop - aguarda o usuário pressionar uma tecla
                      00216         ;=============================================================
00BF   2???           00217         call    teclado         ; para ler operador
00C0   1C2B           00218         btfss   fpress,0                ; lê BCD4 da senha
00C1   2???           00219         goto    $-2             ; fica no loop até ler BCD4 ...
                      00220         ;=============================================================
00C2   2???           00221         call    checa_BCD               ; tecla = [0x30,0x39]
00C3   1C2B           00222         btfss   fpress,0                ; pula de BCD4 válido
00C4   2???           00223         goto    Senha_4dig              ; vai verificar se é operador
00C5   0829           00224         movfw   tecla           ; move bcd4 selecionado para registrador tecla que será usado para envia
                            r informação LCD
00C6   00A3           00225         movwf   dig4            ; move bcd4 selecionado para registrador user1 que será usado para regis
                            trar dado entrado
00C7   2???           00226         call    EnviaCarLCD     ; Envia BCD4 para LCD
                      00227 ;======================================================================
00C8                  00228 Senha_5dig:
                      00229         ;loop - aguarda o usuário pressionar uma tecla
                      00230         ;=============================================================
00C8   2???           00231         call    teclado         ; para ler operador
00C9   1C2B           00232         btfss   fpress,0                ; lê BCD5 da senha
00CA   2???           00233         goto    $-2             ; fica no loop até ler BCD5 ...
                      00234         ;=============================================================
00CB   2???           00235         call    checa_BCD               ; tecla = [0x30,0x39]
00CC   1C2B           00236         btfss   fpress,0                ; pula de BCD5 válido
00CD   2???           00237         goto    Senha_5dig              ; vai verificar se é operador
00CE   0829           00238         movfw   tecla           ; move bcd5 selecionado para registrador tecla que será usado para envia
                            r informação LCD
00CF   00A4           00239         movwf   dig5            ; move bcd5 selecionado para registrador user1 que será usado para regis
                            trar dado entrado
MPASM 5.87                          MAIN.ASM   10-3-2021  23:47:04         PAGE  8


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00D0   2???           00240         call    EnviaCarLCD     ; Envia BCD5 para LCD
                      00241 ;======================================================================
                      00242         ;loop - aguarda o usuário pressionar uma tecla
                      00243         ;=============================================================
00D1   2???           00244         call    teclado         ; para ler operador
00D2   1C2B           00245         btfss   fpress,0                ; se teclado pressionado pula próxima instrução
00D3   2???           00246         goto    $-2             ; fica no loop até pressionado...
                      00247         ;=============================================================
00D4                  00248 Enviar_senha:                   
                      00249         ;valida operador [=]
00D4   3045           00250         movlw   'E'             ; [E] é [=] no teclado matricial
00D5   0629           00251         xorwf   tecla,W         ; tecla [=]
00D6   1D03           00252         btfss   STATUS,Z                ; se for tecla [=] pula a proxima instrução
00D7   2???           00253         goto    Enviar_senha - .3       ; operador inválido, retorna
                      00254         
                      00255 ;flag testa e envia para um dos labels de senha
                      00256 ;   pula para a verificação de senha de acordo com o usuário entrado
00D8   18DC           00257         btfsc   flag_user1,F            ; pula se não é usuário 1
00D9   2???           00258         goto    Senha1          ; vai para verificação da senha do usuário 1
00DA   18DD           00259         btfsc   flag_user2,F            ; pula se não é usuário 2
00DB   2???           00260         goto    Senha2          ; vai para verificação da senha do usuário 2
00DC   18DE           00261         btfsc   flag_user3,F            ; pula se não é usuário 3
00DD   2???           00262         goto    Senha3          ; vai para verificação da senha do usuário 3
00DE   18DF           00263         btfsc   flag_user4,F            ; pula se não é usuário 4
00DF   2???           00264         goto    Senha4          ; vai para verificação da senha do usuário 4
00E0   18E0           00265         btfsc   flag_user5,F            ; pula se não é usuário 5
00E1   2???           00266         goto    Senha5          ; vai para verificação da senha do usuário 5
00E2   2???           00267         goto    retorno         ; salto redundante, nunca acontecerá.
00E3                  00268 Senha1:
00E3   2???           00269         call    Verify_password ; sub-rotina verificar password 1
00E4   2???           00270         goto    retorno         ; vai para retorno
00E5                  00271 Senha2:
00E5   2???           00272         call    Verify_password2        ; sub-rotina verificar password 2
00E6   2???           00273         goto    retorno         ; vai para retorno
00E7                  00274 Senha3:
00E7   2???           00275         call    Verify_password3        ; sub-rotina verificar password 3
00E8   2???           00276         goto    retorno         ; vai para retorno
00E9                  00277 Senha4:
00E9   2???           00278         call    Verify_password4        ; sub-rotina verificar password 4
00EA   2???           00279         goto    retorno         ; vai para retorno
00EB                  00280 Senha5:
00EB   2???           00281         call    Verify_password5        ; sub-rotina verificar password 5
00EC                  00282 retorno:
00EC   18B2           00283         btfsc   flag_error,F            ; pula próxima instrução se a senha for correta
00ED   2???           00284         goto    Senha_erro              ; vai para tratamento de erro de senha
00EE   2???           00285         goto    Abrir_fechadura ; vai para comando de abrir fechadura
                      00286         
00EF                  00287 Senha_erro:
00EF   2???           00288         call    envia_msg_senha_erro_LCD    ;Envia Mensagem: "SENHA INCORRETA" e espera 1s
00F0   2???           00289         call    envia_msg_senha_LCD     ; Envia Mensagem: "SENHA:"
00F1   30C0           00290         movlw   LCD_Linha_2     ; habilita 2 linha
00F2   2???           00291         call    EnviaCmdLCD     ; envia comando 2 linha
00F3   2???           00292         goto    Lop2            ; volta para inicio loop e permite uma nova tentativa
MPASM 5.87                          MAIN.ASM   10-3-2021  23:47:04         PAGE  9


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00293         
00F4                  00294 Abrir_fechadura:
                      00295         ;rotina para abrir a fechadura
00F4   1405           00296         bsf     PORTA,0         ; PORTA pino 0 setado para nivel alto, abre fechadura
00F5   2???           00297         call    envia_msg_abrir_LCD     ; Envia Mensagem: "FECHADURA ABERTA"
00F6   2???           00298         call    Envia_cmd_fechar_LCD    ; Envia Mensagem: "1 PARA FECHAR"
                      00299         ;loop - aguarda o usuário pressionar uma tecla
                      00300         ;=============================================================
00F7   2???           00301         call    teclado         ; para ler operador
00F8   1C2B           00302         btfss   fpress,0                ; se teclado pressionado pula próxima instrução
00F9   2???           00303         goto    $-2             ; fica no loop até pressionado...
                      00304         ;=============================================================
00FA                  00305 Relay_on:                               
                      00306         ;valida operador 1
00FA   3031           00307         movlw   '1'             ; tecla [1] igual 1
00FB   0629           00308         xorwf   tecla,W         ; tecla [1]
00FC   1D03           00309         btfss   STATUS,Z                ; pula se tecla pressionada igual [1]
00FD   2???           00310         goto    Relay_on - .3   ; operador inválido, retorna
                      00311 
00FE                  00312 Relay_off:
00FE   1005           00313         bcf     PORTA,0         ; PORTA pino 0 setado para nivel alto, fecha fechadura
00FF   3001           00314         movlw   LCD_CLEAR       ; limpa LCD
0100   2???           00315         call    EnviaCmdLCD     ; envia comando LCD
0101   2???           00316         call    envia_msg_LCD   ; Envia Mensagem: "PRESSIONE ON/C PARA INICIAR"
0102   2???           00317         goto    main            ; vai para inicio do programa
                      00318 
                      00319 ;*******************************************************************************************
                      00320 ;   Testa_2: opções para mudança de usuário e senha.
                      00321 ;*******************************************************************************************
0103   3032           00322 Testa_2:        movlw   '2'             ; [2] é 2
0104   0629           00323         xorwf   tecla,W         ; tecla [2]
0105   1D03           00324         btfss   STATUS,Z                ; pula se a tecla pressionada for 2
0106   2???           00325         goto    TECLA_1_2               ; operadores inválidos, retorna
0107   2???           00326         call    envia_msg_opcao_LCD     ; Envia Mensagem: "OPCOES MUDAR 1-USER,2-PASS"
0108                  00327 Loop3:  
                      00328         ;loop - aguarda o usuário pressionar uma tecla
                      00329         ;=============================================================
0108   2???           00330         call    teclado         ; para ler operador
0109   1C2B           00331         btfss   fpress,0                ; lê BCD da opção
010A   2???           00332         goto    $-2             ; fica no loop até ler BCD
                      00333         ;=============================================================
010B   3031           00334         movlw   '1'             ; [1] é 1 no teclado matricial
010C   0629           00335         xorwf   tecla,W         ; tecla [=]
010D   1D03           00336         btfss   STATUS,Z                ; pula se 1 foi pressionado
010E   2???           00337         goto    Opcao2          ; operador inválido, retorna
                      00338 ;Mudar um usuário existente
010F   2???           00339         call    Enviar_msg_change_user_LCD  ;Envia Mensagem: "USER ATUAL:"
0110   30C0           00340         movlw   LCD_Linha_2     ; habilita linha 2
0111   2???           00341         call    EnviaCmdLCD     ; envia comando habilitando 2 linha
                      00342 ;======================================================================
                      00343 ;Lê 1° operando
0112                  00344 Lop4:
                      00345         ;loop - aguarda o usuário pressionar uma tecla
MPASM 5.87                          MAIN.ASM   10-3-2021  23:47:04         PAGE 10


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00346         ;=============================================================
0112   2???           00347         call    teclado         ; para ler operador
0113   1C2B           00348         btfss   fpress,0                ; lê BCD1 do usuario
0114   2???           00349         goto    Lop4            ; fica no loop até ler BCD1
                      00350         ;=============================================================
0115   2???           00351         call    checa_BCD               ; tecla = [0x30,0x39]
0116   1C2B           00352         btfss   fpress,0                ; pula se BCD1 válido
0117   2???           00353         goto    Lop4            ; BCD1 inválido, retorna
0118   0829           00354         movfw   tecla           ; move bcd1 selecionado para registrador tecla que será usado para envia
                            r informação LCD
0119   00A5           00355         movwf   user1           ; move bcd1 selecionado para registrador user1 que será usado para regis
                            trar dado entrado
011A   2???           00356         call    EnviaCarLCD     ;Envia BCD1 para LCD
                      00357 ;======================================================================
011B                  00358 Usuario_4dig:
                      00359         ;loop - aguarda o usuário pressionar uma tecla
                      00360         ;=============================================================
011B   2???           00361         call    teclado         ; para ler operador
011C   1C2B           00362         btfss   fpress,0                ; lê BCD2 do usuário
011D   2???           00363         goto    $-2             ; fica no loop até ler BCD2 ...
                      00364         ;=============================================================
011E   2???           00365         call    checa_BCD               ; tecla = [0x30,0x39]
011F   1C2B           00366         btfss   fpress,0                ; pula se BCD2 válido
0120   2???           00367         goto    Usuario_4dig            ; vai verificar se é operador
0121   0829           00368         movfw   tecla           ; move bcd2 selecionado para registrador tecla que será usado para envia
                            r informação LCD
0122   00A6           00369         movwf   user2           ; move bcd2 selecionado para registrador user1 que será usado para regis
                            trar dado entrado
0123   2???           00370         call    EnviaCarLCD     ;Envia BCD2 para LCD
                      00371 ;======================================================================
0124                  00372 Usuario_5dig:
                      00373         ;loop - aguarda o usuário pressionar uma tecla
                      00374         ;=============================================================
0124   2???           00375         call    teclado         ; para ler operador
0125   1C2B           00376         btfss   fpress,0                ; lê BCD3 do usuário
0126   2???           00377         goto    $-2             ; fica no loop até ler BCD3 ...
                      00378         ;=============================================================
0127   2???           00379         call    checa_BCD               ; tecla = [0x30,0x39]
0128   1C2B           00380         btfss   fpress,0                ; pula se BCD3 válido
0129   2???           00381         goto    Usuario_5dig            ; vai verificar se é operador
012A   0829           00382         movfw   tecla           ; move bcd3 selecionado para registrador tecla que será usado para envia
                            r informação LCD
012B   00A7           00383         movwf   user3           ; move bcd3 selecionado para registrador user1 que será usado para regis
                            trar dado entrado
012C   2???           00384         call    EnviaCarLCD     ; Envia BCD3 para LCD
                      00385 ;======================================================================
                      00386         ;loop - aguarda o usuário pressionar uma tecla
                      00387         ;=============================================================
012D   2???           00388         call    teclado         ; para ler operador
012E   1C2B           00389         btfss   fpress,0                ; pula se teclado for pressionado
012F   2???           00390         goto    $-2             ; fica no loop teclado ser pressionado ...
                      00391         ;=============================================================
0130                  00392 Enviar_user2:   
MPASM 5.87                          MAIN.ASM   10-3-2021  23:47:04         PAGE 11


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00393         ;valida operador [=]
0130   3045           00394         movlw   'E'             ; [E] é [=] no teclado matricial
0131   0629           00395         xorwf   tecla,W         ; tecla [=]
0132   1D03           00396         btfss   STATUS,Z                ; pula se [=] foi pressionado
0133   2???           00397         goto    Enviar_user2 - .3       ; operador inválido, retorna
0134   2???           00398         call    Verify_user             ; verifica se usuário existe
0135   18CC           00399         btfsc   flag_user_err,F ; testa o flag, se usuário existe salta a próxima instrução
0136   2???           00400         goto    Usuario_change_error    ; vai para tratamento  de erro de usuário
0137   2???           00401         goto    Change_user_password    ; vai para teste de senha atual
                      00402         
0138                  00403 Usuario_change_error:
0138   2???           00404         call    envia_msg_erro_LCD      ; Enviar Mensagem: "USUARIO NAO ENCONTRADO"
0139   2???           00405         call    Enviar_msg_change_user_LCD; Enviar Mensagem: "USUARIO ATUAL"
013A   30C0           00406         movlw   LCD_Linha_2     ; habilita 2 linha
013B   2???           00407         call    EnviaCmdLCD     ; envia comando para habilitar 2 linha
013C   10A5           00408         bcf     user1,F         ; limpa registradores
013D   10A6           00409         bcf     user2,F         ; dos usuários
013E   10A7           00410         bcf     user3,F         ; para uma nova tentativa
013F   2???           00411         goto    Lop4            ; volta para loop e espera pressionar teclas
                      00412         
0140                  00413 Change_user_password:
0140   2???           00414         call    envia_msg_senha_LCD     ; Envia Mensagem: "SENHA:"
0141   30C0           00415         movlw   LCD_Linha_2     ; habilita linha 2
0142   2???           00416         call    EnviaCmdLCD     ; envia comando habilitando 2 linha
                      00417 ;======================================================================
                      00418 ;Lê 1° operando
0143                  00419 Lop_user_1:
                      00420         ;loop - aguarda o usuário pressionar uma tecla
                      00421         ;=============================================================
0143   2???           00422         call    teclado         ; para ler operador
0144   1C2B           00423         btfss   fpress,0                ; se teclado pressionado salta próxima instrução
0145   2???           00424         goto    Lop_user_1              ; fica no loop até ler BCD1
                      00425         ;=============================================================
0146   2???           00426         call    checa_BCD               ; tecla = [0x30,0x39]
0147   1C2B           00427         btfss   fpress,0                ; pula se BCD1 válido
0148   2???           00428         goto    Lop_user_1              ; BCD1 inválido, retorna
0149   0829           00429         movfw   tecla           ; move bcd1 selecionado para registrador tecla que será usado para envia
                            r informação LCD
014A   00A0           00430         movwf   dig1            ; move bcd1 selecionado para registrador user1 que será usado para regis
                            trar dado entrado
014B   2???           00431         call    EnviaCarLCD     ; Envia BCD1 para LCD
                      00432 ;======================================================================
014C                  00433 Senha_user_2:
                      00434         ;loop - aguarda o usuário pressionar uma tecla
                      00435         ;=============================================================
014C   2???           00436         call    teclado         ; para ler operador
014D   1C2B           00437         btfss   fpress,0                ; lê BCD2 da senha
014E   2???           00438         goto    $-2             ; fica no loop até ler BCD2 ...
                      00439         ;=============================================================
014F   2???           00440         call    checa_BCD               ; tecla = [0x30,0x39]
0150   1C2B           00441         btfss   fpress,0                ; pula de BCD2 válido
0151   2???           00442         goto    Senha_user_2    ; vai verificar se é operador
0152   0829           00443         movfw   tecla           ; move bcd2 selecionado para registrador tecla que será usado para envia
MPASM 5.87                          MAIN.ASM   10-3-2021  23:47:04         PAGE 12


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                            r informação LCD
0153   00A1           00444         movwf   dig2            ; move bcd2 selecionado para registrador user1 que será usado para regis
                            trar dado entrado
0154   2???           00445         call    EnviaCarLCD     ; Envia BCD2 para LCD
                      00446 ;======================================================================
0155                  00447 Senha_user_3:
                      00448         ;loop - aguarda o usuário pressionar uma tecla
                      00449         ;=============================================================
0155   2???           00450         call    teclado         ; para ler operador
0156   1C2B           00451         btfss   fpress,0                ; lê BCD3 da senha
0157   2???           00452         goto    $-2             ; fica no loop até ler BCD3 ...
                      00453         ;=============================================================
0158   2???           00454         call    checa_BCD               ; tecla = [0x30,0x39]
0159   1C2B           00455         btfss   fpress,0                ; pula de BCD3 válido
015A   2???           00456         goto    Senha_user_3    ; vai verificar se é operador
015B   0829           00457         movfw   tecla           ; move bcd3 selecionado para registrador tecla que será usado para envia
                            r informação LCD
015C   00A2           00458         movwf   dig3            ; move bcd3 selecionado para registrador user1 que será usado para regis
                            trar dado entrado
015D   2???           00459         call    EnviaCarLCD     ; Envia BCD3 para LCD
                      00460 ;======================================================================
015E                  00461 Senha_user_4:
                      00462         ;loop - aguarda o usuário pressionar uma tecla
                      00463         ;=============================================================
015E   2???           00464         call    teclado         ; para ler operador
015F   1C2B           00465         btfss   fpress,0                ; lê BCD4 da senha
0160   2???           00466         goto    $-2             ; fica no loop até ler BCD4 ...
                      00467         ;=============================================================
0161   2???           00468         call    checa_BCD               ; tecla = [0x30,0x39]
0162   1C2B           00469         btfss   fpress,0                ; pula de BCD4 válido
0163   2???           00470         goto    Senha_user_4    ; vai verificar se é operador
0164   0829           00471         movfw   tecla           ; move bcd4 selecionado para registrador tecla que será usado para envia
                            r informação LCD
0165   00A3           00472         movwf   dig4            ; move bcd4 selecionado para registrador user1 que será usado para regis
                            trar dado entrado
0166   2???           00473         call    EnviaCarLCD     ; Envia BCD4 para LCD
                      00474 ;======================================================================
0167                  00475 Senha_user_5:
                      00476         ;loop - aguarda o usuário pressionar uma tecla
                      00477         ;=============================================================
0167   2???           00478         call    teclado         ; para ler operador
0168   1C2B           00479         btfss   fpress,0                ; lê BCD5 da senha
0169   2???           00480         goto    $-2             ; fica no loop até ler BCD5 ...
                      00481         ;=============================================================
016A   2???           00482         call    checa_BCD               ; tecla = [0x30,0x39]
016B   1C2B           00483         btfss   fpress,0                ; pula de BCD5 válido
016C   2???           00484         goto    Senha_user_5    ; vai verificar se é operador
016D   0829           00485         movfw   tecla           ; move bcd5 selecionado para registrador tecla que será usado para envia
                            r informação LCD
016E   00A4           00486         movwf   dig5            ; move bcd5 selecionado para registrador user1 que será usado para regis
                            trar dado entrado
016F   2???           00487         call    EnviaCarLCD     ; Envia BCD5 para LCD
                      00488 ;======================================================================
MPASM 5.87                          MAIN.ASM   10-3-2021  23:47:04         PAGE 13


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00489         ;loop - aguarda o usuário pressionar uma tecla
                      00490         ;=============================================================
0170   2???           00491         call    teclado         ; para ler operador
0171   1C2B           00492         btfss   fpress,0                ; lê BCD para enviar
0172   2???           00493         goto    $-2             ; fica no loop até ler BCD ...
                      00494         ;=============================================================
0173                  00495 Send_user_pass:         
                      00496         ;valida operador [=]
0173   3045           00497         movlw   'E'             ; [E] é =  no teclado matricial
0174   0629           00498         xorwf   tecla,W         ; tecla [=]
0175   1D03           00499         btfss   STATUS,Z                ; se [=] foi pressionado salta próxima instrução
0176   2???           00500         goto    Send_user_pass - .3     ; operador inválido, retorna
                      00501         
                      00502 ;flag testa e envia para um dos labels de senha
                      00503 ; testa e salta para a rotina de acordo com o flag da do usuário entrado
0177   18DC           00504         btfsc   flag_user1,F            ;Pula se não for usuário 1
0178   2???           00505         goto    Pass_1          ;vai para rotina para mudar usuário 1
0179   18DD           00506         btfsc   flag_user2,F            ;Pula se não for usuário 2
017A   2???           00507         goto    Pass_2          ;vai para rotina para mudar usuário 2
017B   18DE           00508         btfsc   flag_user3,F            ;Pula se não for usuário 3
017C   2???           00509         goto    Pass_3          ;vai para rotina para mudar usuário 3
017D   18DF           00510         btfsc   flag_user4,F            ;Pula se não for usuário 4
017E   2???           00511         goto    Pass_4          ;vai para rotina para mudar usuário 4
017F   18E0           00512         btfsc   flag_user5,F            ;Pula se não for usuário 5
0180   2???           00513         goto    Pass_5          ;vai para rotina para mudar usuário 5
0181   2???           00514         goto    User_retorno            ;loop redundante, nunca será usado
0182                  00515 Pass_1:
0182   2???           00516         call    Verify_password ;Verifica senha do usuário 1
0183   2???           00517         goto    User_retorno            ;salta para retorno
0184                  00518 Pass_2:
0184   2???           00519         call    Verify_password2        ;Verifica senha do usuário 2
0185   2???           00520         goto    User_retorno            ;salta para retorno
0186                  00521 Pass_3:
0186   2???           00522         call    Verify_password3        ;Verifica senha do usuário 3
0187   2???           00523         goto    User_retorno            ;salta para retorno
0188                  00524 Pass_4:
0188   2???           00525         call    Verify_password4        ;Verifica senha do usuário 4
0189   2???           00526         goto    User_retorno            ;salta para retorno
018A                  00527 Pass_5:
018A   2???           00528         call    Verify_password5        ;Verifica senha do usuário 5
018B                  00529 User_retorno:
018B   18B2           00530         btfsc   flag_error,F            ; pula a próxima instrução se senha correta
018C   2???           00531         goto    User_pass_error ; vai para tratamento de erro de senha
018D   2???           00532         goto    Mudar_user              ; vai para rotina de mudança de usuário
                      00533         
018E                  00534 User_pass_error:
018E   2???           00535         call    envia_msg_senha_erro_LCD    ; Envia Mensagem: "SENHA INCORRETA" e espera 1s
018F   2???           00536         call    envia_msg_senha_LCD     ; Envia Mensagem: "SENHA:"
0190   30C0           00537         movlw   LCD_Linha_2     ; habilita 2 linha
0191   2???           00538         call    EnviaCmdLCD     ; envia comando habilitando 2 linha
0192   2???           00539         goto    Lop_user_1              ; volta para inicio do loop para outra tentativa de senha
                      00540         
0193                  00541 Mudar_user:
MPASM 5.87                          MAIN.ASM   10-3-2021  23:47:04         PAGE 14


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0193   2???           00542         call    Enviar_msg_change_user2_LCD ; Envia Mensagem : "3 DIG NEW USER"
0194   30C0           00543         MOVLW   LCD_Linha_2     ;2 linha
0195   2???           00544         CALL    EnviaCmdLCD     ;envia comando habilitanto 2 linha
                      00545         ;=============================================================
                      00546 ;Lê 1° operando
0196                  00547 New_user1:
                      00548         ;loop - aguarda o usuário pressionar uma tecla
                      00549         ;=============================================================
0196   2???           00550         call    teclado         ; para ler operador
0197   1C2B           00551         btfss   fpress,0                ; pula se tecla for pressionada
0198   2???           00552         goto    New_user1               ; fica no loop até ler BCD1
                      00553         ;=============================================================
0199   2???           00554         call    checa_BCD               ; tecla = [0x30,0x39]
019A   1C2B           00555         btfss   fpress,0                ; pula se BCD1 válido
019B   2???           00556         goto    New_user1               ; BCD1 inválido, retorna
019C   0829           00557         movfw   tecla           ; move bcd1 selecionado para registrador tecla que será usado para envia
                            r informação LCD
019D   00A5           00558         movwf   user1           ; move bcd1 selecionado para registrador user1 que será usado para regis
                            trar dado entrado
019E   2???           00559         call    EnviaCarLCD     ; Envia BCD1 para LCD
                      00560 ;=======================================================================
019F                  00561 New_user2:
019F   2???           00562         call    teclado         ; para ler operador
01A0   1C2B           00563         btfss   fpress,0                ; lê BCD2 do usuário
01A1   2???           00564         goto    $-2             ; fica no loop até ler BCD2 ...
01A2   2???           00565         call    checa_BCD               ; tecla = [0x30,0x39]
01A3   1C2B           00566         btfss   fpress,0                ; pula de BCD2 válido
01A4   2???           00567         goto    New_user2               ; vai verificar se é operador
01A5   0829           00568         movfw   tecla           ; move bcd2 selecionado para registrador tecla que será usado para envia
                            r informação LCD
01A6   00A6           00569         movwf   user2           ; move bcd2 selecionado para registrador user1 que será usado para regis
                            trar dado entrado
01A7   2???           00570         call    EnviaCarLCD     ; Envia BCD2 para LCD
                      00571 ;==============================================================
01A8                  00572 New_user3:
01A8   2???           00573         call    teclado         ; para ler operador
01A9   1C2B           00574         btfss   fpress,0                ; lê BCD3 do usuário
01AA   2???           00575         goto    $-2             ; fica no loop até ler BCD3 ...
01AB   2???           00576         call    checa_BCD               ; tecla = [0x30,0x39]
01AC   1C2B           00577         btfss   fpress,0                ; pula de BCD3 válido
01AD   2???           00578         goto    New_user3               ; vai verificar se é operador
01AE   0829           00579         movfw   tecla           ; move bcd3 selecionado para registrador tecla que será usado para envia
                            r informação LCD
01AF   00A7           00580         movwf   user3           ; move bcd3 selecionado para registrador user1 que será usado para regis
                            trar dado entrado
01B0   2???           00581         call    EnviaCarLCD     ; Envia BCD3 para LCD
                      00582 ;===============================================================
                      00583         ;loop - aguarda o usuário pressionar uma tecla
                      00584         ;=============================================================
01B1   2???           00585         call    teclado         ; para ler operador
01B2   1C2B           00586         btfss   fpress,0                ; lê BCD2 da senha
01B3   2???           00587         goto    $-2             ; fica no loop até ler BCD2 ...
                      00588         ;=============================================================
MPASM 5.87                          MAIN.ASM   10-3-2021  23:47:04         PAGE 15


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

01B4                  00589 Enviar_new_user:        
                      00590         ;valida operador [=]
01B4   3045           00591         movlw   'E'             ; [E] é [=] no teclado matricial
01B5   0629           00592         xorwf   tecla,W         ; tecla [=]
01B6   1D03           00593         btfss   STATUS,Z                ; pula próxima instrução se 1 foi pressionado
01B7   2???           00594         goto    Enviar_new_user - .3    ; operador inválido, retorna
01B8   2???           00595         call    New_user                ; vai para rotina de mudança de usuário
01B9   2???           00596         call    Exibir_novo_user_LCD    ; Envia Mensagem: "NOVO USUARIO REGISTRADO"
01BA   3001           00597         MOVLW   LCD_CLEAR       ; limpa tela
01BB   2???           00598         CALL    EnviaCmdLCD     ; envia comando limpar tela LCD
01BC   2???           00599         call    envia_msg_LCD   ; Envia comando: "PRESSIONE ON/C PARA INICIAR"
01BD   2???           00600         goto    main            ; volta para inicio do programa
                      00601 ;Mudar senha de um usuário específico
01BE                  00602 Opcao2: 
01BE   3032           00603         movlw   '2'             ; [2] é 2 no teclado matricial
01BF   0629           00604         xorwf   tecla,W         ; tecla [2]
01C0   1D03           00605         btfss   STATUS,Z                ; salta próxima instrução se 2 foi pressionado
01C1   2???           00606         goto    Loop3           ; volta para inicio do loop e aguarda pressionar o teclado
01C2   2???           00607         call    envia_msg_entrar_LCD    ; Envia Mensagem: "USUARIO:"
                      00608         ;loop - aguarda o usuário pressionar uma tecla
                      00609         ;=============================================================
                      00610         ;call   teclado         ; para ler operador
                      00611         ;btfss  fpress,0                ; salta próxima instrução se teclado foi pressionado
                      00612         ;goto   $-2             ; fica no loop até ler BCD ...
                      00613         ;=============================================================
01C3   30C0           00614         movlw   LCD_Linha_2     ;2 linha
01C4   2???           00615         call    EnviaCmdLCD     ; envia comando habilitando 2 linha
                      00616 ;=======================================================================
                      00617 ;Lê 1° operando
01C5                  00618 Loop_user_change_pass1:
                      00619         ;loop - aguarda o usuário pressionar uma tecla
                      00620         ;=============================================================
01C5   2???           00621         call    teclado         ; para ler operador
01C6   1C2B           00622         btfss   fpress,0                ; salta próxima instrução se teclado for pressionado
01C7   2???           00623         goto    Loop_user_change_pass1  ; fica no loop até ler BCD1
                      00624         ;=============================================================
01C8   2???           00625         call    checa_BCD               ; tecla = [0x30,0x39]
01C9   1C2B           00626         btfss   fpress,0
01CA   2???           00627         goto    Loop_user_change_pass1          ; BCD1 inválido, retorna
01CB   0829           00628         movfw   tecla   
01CC   3A30           00629         xorlw   0x30
01CD   1903           00630         btfsc   STATUS,Z
01CE   2???           00631         goto    Loop_user_change_pass1          ; BCD1 = 0, retorna
01CF   0829           00632         movfw   tecla   
01D0   00A5           00633         movwf   user1           ; cent = ASCII(BCD1)
01D1   2???           00634         call    EnviaCarLCD
                      00635 ;=============================================================
01D2                  00636 Loop_user_change_pass2:
01D2   2???           00637         call    teclado         ; para ler operador
01D3   1C2B           00638         btfss   fpress,0                ; lê BCD2 da senha
01D4   2???           00639         goto    $-2             ; fica no loop até ler BCD2 ...
01D5   2???           00640         call    checa_BCD               ; tecla = [0x30,0x39]
01D6   1C2B           00641         btfss   fpress,0                ; pula de BCD2 válido
MPASM 5.87                          MAIN.ASM   10-3-2021  23:47:04         PAGE 16


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

01D7   2???           00642         goto    Loop_user_change_pass2          ; vai verificar se é operador
01D8   0829           00643         movfw   tecla   
01D9   3A30           00644         xorlw   0x30
01DA   1903           00645         btfsc   STATUS,Z
01DB   2???           00646         goto    Loop_user_change_pass2          ; BCD1 = 0, retorna
01DC   0829           00647         movfw   tecla   
01DD   00A6           00648         movwf   user2           ; cent = ASCII(BCD1)
01DE   2???           00649         call    EnviaCarLCD
                      00650 ;==============================================================
01DF                  00651 Loop_user_change_pass3:
01DF   2???           00652         call    teclado         ; para ler operador
01E0   1C2B           00653         btfss   fpress,0                ; lê BCD2 da senha
01E1   2???           00654         goto    $-2             ; fica no loop até ler BCD2 ...
01E2   2???           00655         call    checa_BCD               ; tecla = [0x30,0x39]
01E3   1C2B           00656         btfss   fpress,0                ; pula de BCD2 válido
01E4   2???           00657         goto    Loop_user_change_pass3          ; vai verificar se é operador
01E5   0829           00658         movfw   tecla   
01E6   3A30           00659         xorlw   0x30
01E7   1903           00660         btfsc   STATUS,Z
01E8   2???           00661         goto    Loop_user_change_pass3          ; BCD1 = 0, retorna
01E9   0829           00662         movfw   tecla   
01EA   00A7           00663         movwf   user3           ; cent = ASCII(BCD1)
01EB   2???           00664         call    EnviaCarLCD
                      00665 ;===============================================================
01EC   2???           00666         call    teclado         ; para ler operador
01ED   1C2B           00667         btfss   fpress,0                ; lê BCD2 da senha
01EE   2???           00668         goto    $-2             ; fica no loop até ler BCD2 ...
01EF                  00669 Enviar_user_change_pass:                        ;valida operador ON/C
01EF   3045           00670         movlw   'E'
01F0   0629           00671         xorwf   tecla,W         ; tecla [=]
01F1   1D03           00672         btfss   STATUS,Z
01F2   2???           00673         goto    Enviar_user_change_pass - .3    ; operador inválido, retorna
01F3   2???           00674         call    Verify_user             ; MENU
01F4   18CC           00675         btfsc   flag_user_err,F
01F5   2???           00676         goto    Usuario_erro_change_pass
01F6   2???           00677         goto    Enviar_msg_senha_change_Pass
                      00678         
01F7                  00679 Usuario_erro_change_pass:
01F7   2???           00680         call    envia_msg_erro_LCD
01F8   2???           00681         call    envia_msg_entrar_LCD
01F9   30C0           00682         movlw   LCD_Linha_2     
01FA   2???           00683         call    EnviaCmdLCD
01FB   10A5           00684         bcf     user1,F
01FC   10A6           00685         bcf     user2,F
01FD   10A7           00686         bcf     user3,F
01FE   2???           00687         goto    Loop_user_change_pass1
                      00688 
01FF                  00689 Enviar_msg_senha_change_Pass:
01FF   2???           00690         call    Exibir_old_pass_LCD
                      00691 ;=============================================================
                      00692 ;Lê 1° operando
0200                  00693 Loop_change_user_pass1:
0200   2???           00694         call    teclado         ; para ler operador
MPASM 5.87                          MAIN.ASM   10-3-2021  23:47:04         PAGE 17


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0201   1C2B           00695         btfss   fpress,0        
0202   2???           00696         goto    Loop_change_user_pass1          ; fica no loop até ler BCD1
0203   2???           00697         call    checa_BCD               ; tecla = [0x30,0x39]
0204   1C2B           00698         btfss   fpress,0
0205   2???           00699         goto    Loop_change_user_pass1          ; BCD1 inválido, retorna
0206   0829           00700         movfw   tecla   
0207   3A30           00701         xorlw   0x30
0208   1903           00702         btfsc   STATUS,Z
0209   2???           00703         goto    Loop_change_user_pass1          ; BCD1 = 0, retorna
020A   0829           00704         movfw   tecla   
020B   00A0           00705         movwf   dig1            ; cent = ASCII(BCD1)
020C   2???           00706         call    EnviaCarLCD
                      00707 ;=============================================================
020D                  00708 Loop_change_user_pass2:
020D   2???           00709         call    teclado         ; para ler operador
020E   1C2B           00710         btfss   fpress,0                ; lê BCD2 da senha
020F   2???           00711         goto    $-2             ; fica no loop até ler BCD2 ...
0210   2???           00712         call    checa_BCD               ; tecla = [0x30,0x39]
0211   1C2B           00713         btfss   fpress,0                ; pula de BCD2 válido
0212   2???           00714         goto    Loop_change_user_pass2          ; vai verificar se é operador
0213   0829           00715         movfw   tecla   
0214   3A30           00716         xorlw   0x30
0215   1903           00717         btfsc   STATUS,Z
0216   2???           00718         goto    Loop_change_user_pass2          ; BCD1 = 0, retorna
0217   0829           00719         movfw   tecla   
0218   00A1           00720         movwf   dig2            ; cent = ASCII(BCD1)
0219   2???           00721         call    EnviaCarLCD
                      00722 ;==============================================================
021A                  00723 Loop_change_user_pass3:
021A   2???           00724         call    teclado         ; para ler operador
021B   1C2B           00725         btfss   fpress,0                ; lê BCD2 da senha
021C   2???           00726         goto    $-2             ; fica no loop até ler BCD2 ...
021D   2???           00727         call    checa_BCD               ; tecla = [0x30,0x39]
021E   1C2B           00728         btfss   fpress,0                ; pula de BCD2 válido
021F   2???           00729         goto    Loop_change_user_pass3          ; vai verificar se é operador
0220   0829           00730         movfw   tecla   
0221   3A30           00731         xorlw   0x30
0222   1903           00732         btfsc   STATUS,Z
0223   2???           00733         goto    Loop_change_user_pass3          ; BCD1 = 0, retorna
0224   0829           00734         movfw   tecla   
0225   00A2           00735         movwf   dig3            ; cent = ASCII(BCD1)
0226   2???           00736         call    EnviaCarLCD
                      00737 ;===============================================================
0227                  00738 Loop_change_user_pass4:
0227   2???           00739         call    teclado         ; para ler operador
0228   1C2B           00740         btfss   fpress,0                ; lê BCD2 da senha
0229   2???           00741         goto    $-2             ; fica no loop até ler BCD2 ...
022A   2???           00742         call    checa_BCD               ; tecla = [0x30,0x39]
022B   1C2B           00743         btfss   fpress,0                ; pula de BCD2 válido
022C   2???           00744         goto    Loop_change_user_pass4          ; vai verificar se é operador
022D   0829           00745         movfw   tecla   
022E   3A30           00746         xorlw   0x30
022F   1903           00747         btfsc   STATUS,Z
MPASM 5.87                          MAIN.ASM   10-3-2021  23:47:04         PAGE 18


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0230   2???           00748         goto    Loop_change_user_pass4          ; BCD1 = 0, retorna
0231   0829           00749         movfw   tecla   
0232   00A3           00750         movwf   dig4            ; cent = ASCII(BCD1)
0233   2???           00751         call    EnviaCarLCD
                      00752 ;===============================================================
0234                  00753 Loop_change_user_pass5:
0234   2???           00754         call    teclado         ; para ler operador
0235   1C2B           00755         btfss   fpress,0                ; lê BCD2 da senha
0236   2???           00756         goto    $-2             ; fica no loop até ler BCD2 ...
0237   2???           00757         call    checa_BCD               ; tecla = [0x30,0x39]
0238   1C2B           00758         btfss   fpress,0                ; pula de BCD2 válido
0239   2???           00759         goto    Loop_change_user_pass5          ; vai verificar se é operador
023A   0829           00760         movfw   tecla   
023B   3A30           00761         xorlw   0x30
023C   1903           00762         btfsc   STATUS,Z
023D   2???           00763         goto    Loop_change_user_pass5          ; BCD1 = 0, retorna
023E   0829           00764         movfw   tecla   
023F   00A4           00765         movwf   dig5            ; cent = ASCII(BCD1)
0240   2???           00766         call    EnviaCarLCD
                      00767 ;===============================================================
                      00768 
0241   2???           00769         call    teclado         ; para ler operador
0242   1C2B           00770         btfss   fpress,0                ; lê BCD2 da senha
0243   2???           00771         goto    $-2             ; fica no loop até ler BCD2 ...
0244                  00772 Enviar_senha_pass_change:                       ;valida operador ON/C
0244   3045           00773         movlw   'E'
0245   0629           00774         xorwf   tecla,W         ; tecla [=]
0246   1D03           00775         btfss   STATUS,Z
0247   2???           00776         goto    Enviar_senha_pass_change - .3   ; operador inválido, retorna
                      00777         
                      00778 ;flag testa e envia para um dos labels de senha
0248   18DC           00779         btfsc   flag_user1,F
0249   2???           00780         goto    Pass_change1
024A   18DD           00781         btfsc   flag_user2,F
024B   2???           00782         goto    Pass_change2
024C   18DE           00783         btfsc   flag_user3,F
024D   2???           00784         goto    Pass_change3
024E   18DF           00785         btfsc   flag_user4,F
024F   2???           00786         goto    Pass_change4
0250   18E0           00787         btfsc   flag_user5,F
0251   2???           00788         goto    Pass_change5
0252   2???           00789         goto    Change_pass_return
0253                  00790 Pass_change1:
0253   2???           00791         call    Verify_password
0254   2???           00792         goto    Change_pass_return
0255                  00793 Pass_change2:
0255   2???           00794         call    Verify_password2
0256   2???           00795         goto    Change_pass_return
0257                  00796 Pass_change3:
0257   2???           00797         call    Verify_password3
0258   2???           00798         goto    Change_pass_return
0259                  00799 Pass_change4:
0259   2???           00800         call    Verify_password4
MPASM 5.87                          MAIN.ASM   10-3-2021  23:47:04         PAGE 19


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

025A   2???           00801         goto    Change_pass_return
025B                  00802 Pass_change5:
025B   2???           00803         call    Verify_password5
025C                  00804 Change_pass_return:
025C   18B2           00805         btfsc   flag_error,F
025D   2???           00806         goto    Senha_erro_pass_changer
025E   2???           00807         goto    Pass_changer_routine
                      00808         
025F                  00809 Senha_erro_pass_changer:
025F   2???           00810         call    envia_msg_senha_erro_LCD
0260   2???           00811         call    Exibir_old_pass_LCD
0261   2???           00812         goto    Loop_change_user_pass1
                      00813         
0262                  00814 Pass_changer_routine:
0262   2???           00815         call    Exibir_NEW_pass_LCD
                      00816 ;=======================================================================================        
0263                  00817 New_pass1:
0263   2???           00818         call    teclado         ; para ler operador
0264   1C2B           00819         btfss   fpress,0        
0265   2???           00820         goto    New_pass1               ; fica no loop até ler BCD1
0266   2???           00821         call    checa_BCD               ; tecla = [0x30,0x39]
0267   1C2B           00822         btfss   fpress,0
0268   2???           00823         goto    Lop2            ; BCD1 inválido, retorna
0269   0829           00824         movfw   tecla   
026A   3A30           00825         xorlw   0x30
026B   1903           00826         btfsc   STATUS,Z
026C   2???           00827         goto    New_pass1               ; BCD1 = 0, retorna
026D   0829           00828         movfw   tecla   
026E   00A0           00829         movwf   dig1            ; cent = ASCII(BCD1)
026F   2???           00830         call    EnviaCarLCD
                      00831 ;=============================================================
0270                  00832 New_pass2:
0270   2???           00833         call    teclado         ; para ler operador
0271   1C2B           00834         btfss   fpress,0                ; lê BCD2 da senha
0272   2???           00835         goto    $-2             ; fica no loop até ler BCD2 ...
0273   2???           00836         call    checa_BCD               ; tecla = [0x30,0x39]
0274   1C2B           00837         btfss   fpress,0                ; pula de BCD2 válido
0275   2???           00838         goto    New_pass2               ; vai verificar se é operador
0276   0829           00839         movfw   tecla   
0277   3A30           00840         xorlw   0x30
0278   1903           00841         btfsc   STATUS,Z
0279   2???           00842         goto    New_pass2               ; BCD1 = 0, retorna
027A   0829           00843         movfw   tecla   
027B   00A1           00844         movwf   dig2            ; cent = ASCII(BCD1)
027C   2???           00845         call    EnviaCarLCD
                      00846 ;==============================================================
027D                  00847 New_pass3:
027D   2???           00848         call    teclado         ; para ler operador
027E   1C2B           00849         btfss   fpress,0                ; lê BCD2 da senha
027F   2???           00850         goto    $-2             ; fica no loop até ler BCD2 ...
0280   2???           00851         call    checa_BCD               ; tecla = [0x30,0x39]
0281   1C2B           00852         btfss   fpress,0                ; pula de BCD2 válido
0282   2???           00853         goto    New_pass3               ; vai verificar se é operador
MPASM 5.87                          MAIN.ASM   10-3-2021  23:47:04         PAGE 20


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0283   0829           00854         movfw   tecla   
0284   3A30           00855         xorlw   0x30
0285   1903           00856         btfsc   STATUS,Z
0286   2???           00857         goto    New_pass3               ; BCD1 = 0, retorna
0287   0829           00858         movfw   tecla   
0288   00A2           00859         movwf   dig3            ; cent = ASCII(BCD1)
0289   2???           00860         call    EnviaCarLCD
                      00861 ;===============================================================
028A                  00862 New_pass4:
028A   2???           00863         call    teclado         ; para ler operador
028B   1C2B           00864         btfss   fpress,0                ; lê BCD2 da senha
028C   2???           00865         goto    $-2             ; fica no loop até ler BCD2 ...
028D   2???           00866         call    checa_BCD               ; tecla = [0x30,0x39]
028E   1C2B           00867         btfss   fpress,0                ; pula de BCD2 válido
028F   2???           00868         goto    New_pass4               ; vai verificar se é operador
0290   0829           00869         movfw   tecla   
0291   3A30           00870         xorlw   0x30
0292   1903           00871         btfsc   STATUS,Z
0293   2???           00872         goto    New_pass4               ; BCD1 = 0, retorna
0294   0829           00873         movfw   tecla   
0295   00A3           00874         movwf   dig4            ; cent = ASCII(BCD1)
0296   2???           00875         call    EnviaCarLCD
                      00876 ;===============================================================
0297                  00877 New_pass5:
0297   2???           00878         call    teclado         ; para ler operador
0298   1C2B           00879         btfss   fpress,0                ; lê BCD2 da senha
0299   2???           00880         goto    $-2             ; fica no loop até ler BCD2 ...
029A   2???           00881         call    checa_BCD               ; tecla = [0x30,0x39]
029B   1C2B           00882         btfss   fpress,0                ; pula de BCD2 válido
029C   2???           00883         goto    New_pass5               ; vai verificar se é operador
029D   0829           00884         movfw   tecla   
029E   3A30           00885         xorlw   0x30
029F   1903           00886         btfsc   STATUS,Z
02A0   2???           00887         goto    New_pass5               ; BCD1 = 0, retorna
02A1   0829           00888         movfw   tecla   
02A2   00A4           00889         movwf   dig5            ; cent = ASCII(BCD1)
02A3   2???           00890         call    EnviaCarLCD
                      00891 ;===============================================================
                      00892 
02A4   2???           00893         call    teclado         ; para ler operador
02A5   1C2B           00894         btfss   fpress,0                ; lê BCD2 da senha
02A6   2???           00895         goto    $-2             ; fica no loop até ler BCD2 ...
02A7                  00896 Send_pass:                      ;valida operador ON/C
02A7   3045           00897         movlw   'E'
02A8   0629           00898         xorwf   tecla,W         ; tecla [=]
02A9   1D03           00899         btfss   STATUS,Z
02AA   2???           00900         goto    Send_pass - .3  ; operador inválido, retorna
02AB   2???           00901         call    New_password
02AC   2???           00902         call    Exibir_senha_alterada_LCD
02AD   3001           00903         MOVLW   LCD_CLEAR
02AE   2???           00904         CALL    EnviaCmdLCD
02AF   2???           00905         call    envia_msg_LCD
02B0   2???           00906         goto    main
MPASM 5.87                          MAIN.ASM   10-3-2021  23:47:04         PAGE 21


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00907         
                      00908 
                      00909             
                      00910         #include        "up_md_lcd_driver_PIC16F.asm"
                      00001         cblock
  0000002D            00002           TEMPO1,TEMPO2
                      00003         endc
                      00004 
                      00005 #define     LCD_RS              PORTE,0
                      00006 #define     LCD_E               PORTE,1
                      00007 #define     LCD_DADO    PORTD
                      00008 
  0000000C            00009 LCD_ON_NOCURSOR         EQU     0x0C    ;Display on, cursor off
  0000000E            00010 LCD_ON_CURSOR           EQU     0x0E    ;Display on, cursor on
  0000000F            00011 LCD_ON_CURSOR_BLINK     EQU     0x0F    ;Display on, cursor on-blink
  00000010            00012 CURSOR_A_ESQUERDA       EQU     0x10    ;Cursor à esquerda
  00000014            00013 CURSOR_A_DIREITA                EQU     0x14    ;Cursor à direita
  00000018            00014 MENSAJE_ESQUERDA                EQU     0x18    ;Mensagem à esquerda
  0000001C            00015 MENSAJE_DIREITA         EQU     0x1C    ;Mensagem à direita
  00000001            00016 LCD_CLEAR               EQU     0x01    ;Limpa display e cursor home
  00000008            00017 LCD_OFF                 EQU     0x008   ;desligar display
  00000080            00018 LCD_Linha_1             EQU     0x80    ;primeira linha
  000000C0            00019 LCD_Linha_2             EQU     0xC0    ;segunda linha
                      00020 ;====================================================================
02B1                  00021 Inicia_LCD:
                      00022         banco1
02B1   1683               M         bsf     STATUS, RP0
02B2   0188           00023         clrf    TRISD
02B3   0189           00024         clrf    TRISE
                      00025         banco0
02B4   1283               M         bcf     STATUS, RP0
02B5   3038           00026         MOVLW   0x38            ;
02B6   2???           00027         CALL    EnviaCmdLCD
02B7   3038           00028         MOVLW   0x38            ;Modo 8b, 2 linhas de dados
02B8   2???           00029         CALL    EnviaCmdLCD
02B9   3006           00030         MOVLW   0x06            ;Cursor, deslocamento para a direita
02BA   2???           00031         CALL    EnviaCmdLCD
02BB   300C           00032         MOVLW   0x0C            ;Display on, cursor off
02BC   2???           00033         CALL    EnviaCmdLCD
02BD   3001           00034         MOVLW   0x01            ;Limpa display e cursor home
02BE   2???           00035         CALL    EnviaCmdLCD
02BF   0008           00036         RETURN  
                      00037 
02C0                  00038 EnviaCarLCD:
02C0   1409           00039         BSF     LCD_RS
02C1   1489           00040         BSF     LCD_E
02C2   0088           00041         MOVWF   LCD_DADO
02C3   1089           00042         BCF     LCD_E
02C4   3006           00043         MOVLW   0x06
02C5   2???           00044         CALL    Delay_LCD               ;1.54ms
02C6   0008           00045         RETURN  
                      00046 
02C7                  00047 EnviaCmdLCD:
MPASM 5.87                          MAIN.ASM   10-3-2021  23:47:04         PAGE 22


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

02C7   1009           00048         BCF     LCD_RS          ;comando
02C8   1489           00049         BSF     LCD_E
02C9   0088           00050         MOVWF   LCD_DADO
02CA   1089           00051         BCF     LCD_E
02CB   3012           00052         MOVLW   0x12
02CC   2???           00053         CALL    Delay_LCD               ;4.6ms
02CD   0008           00054         RETURN
                      00055 
02CE                  00056 Delay_LCD:
02CE   00AE           00057         MOVWF   TEMPO2     
02CF   30FF           00058         MOVLW   0xFF
02D0   00AD           00059         MOVWF   TEMPO1
02D1   0064           00060         CLRWDT
02D2   0BAD           00061         DECFSZ  TEMPO1,F
02D3   2???           00062         GOTO    $-02               
02D4   0BAE           00063         DECFSZ  TEMPO2,F
02D5   2???           00064         GOTO    $-06                
02D6   0008           00065         RETURN
                      00911         #include        "up_mensagens_PIC16F.asm"
                      00001 ;**********************************************************************
                      00002 ; Rotinas para as mensagens de texto a serem enviadas no LCD
                      00003 ;**********************************************************************
02D7                  00004 envia_msg_LCD:
02D7   3080           00005         MOVLW   LCD_Linha_1     ;1 linha
02D8   2???           00006         CALL    EnviaCmdLCD
                      00007         
02D9   3050           00008         MOVLW   'P'
02DA   2???           00009         CALL    EnviaCarLCD    
02DB   3052           00010         MOVLW   'R'
02DC   2???           00011         CALL    EnviaCarLCD  
02DD   3045           00012         MOVLW   'E'
02DE   2???           00013         CALL    EnviaCarLCD  
02DF   3053           00014         MOVLW   'S'
02E0   2???           00015         CALL    EnviaCarLCD  
02E1   3053           00016         MOVLW   'S'
02E2   2???           00017         CALL    EnviaCarLCD  
02E3   3049           00018         MOVLW   'I'
02E4   2???           00019         CALL    EnviaCarLCD  
02E5   304F           00020         MOVLW   'O'
02E6   2???           00021         CALL    EnviaCarLCD  
02E7   304E           00022         MOVLW   'N'
02E8   2???           00023         CALL    EnviaCarLCD  
02E9   3045           00024         MOVLW   'E'
02EA   2???           00025         CALL    EnviaCarLCD  
02EB   3020           00026         MOVLW   ' '
02EC   2???           00027         CALL    EnviaCarLCD  
02ED   304F           00028         MOVLW   'O'
02EE   2???           00029         CALL    EnviaCarLCD  
02EF   304E           00030         MOVLW   'N'
02F0   2???           00031         CALL    EnviaCarLCD  
02F1   302F           00032         MOVLW   '/'
02F2   2???           00033         CALL    EnviaCarLCD  
02F3   3043           00034         MOVLW   'C'
MPASM 5.87                          MAIN.ASM   10-3-2021  23:47:04         PAGE 23


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

02F4   2???           00035         CALL    EnviaCarLCD  
                      00036         
02F5   30C0           00037         MOVLW   LCD_Linha_2     ;2 linha
02F6   2???           00038         CALL    EnviaCmdLCD
02F7   3050           00039         MOVLW   'P'
02F8   2???           00040         CALL    EnviaCarLCD  
02F9   3041           00041         MOVLW   'A'
02FA   2???           00042         CALL    EnviaCarLCD  
02FB   3052           00043         MOVLW   'R'
02FC   2???           00044         CALL    EnviaCarLCD  
02FD   3041           00045         MOVLW   'A'
02FE   2???           00046         CALL    EnviaCarLCD  
02FF   3020           00047         MOVLW   ' '
0300   2???           00048         CALL    EnviaCarLCD  
0301   3049           00049         MOVLW   'I'
0302   2???           00050         CALL    EnviaCarLCD  
0303   304E           00051         MOVLW   'N'
0304   2???           00052         CALL    EnviaCarLCD  
0305   3049           00053         MOVLW   'I'
0306   2???           00054         CALL    EnviaCarLCD  
0307   3043           00055         MOVLW   'C'
0308   2???           00056         CALL    EnviaCarLCD  
0309   3049           00057         MOVLW   'I'
030A   2???           00058         CALL    EnviaCarLCD  
030B   3041           00059         MOVLW   'A'
030C   2???           00060         CALL    EnviaCarLCD  
030D   3052           00061         MOVLW   'R'
030E   2???           00062         CALL    EnviaCarLCD  
                      00063         
030F   0008           00064         RETURN  
                      00065 ;+++++++++++++++++++++++++++++++++++++++++++++
0310                  00066 envia_msg_menu_LCD:
0310   3080           00067         MOVLW   LCD_Linha_1     ;1 linha
0311   2???           00068         CALL    EnviaCmdLCD
                      00069         
0312   304D           00070         MOVLW   'M'
0313   2???           00071         CALL    EnviaCarLCD    
0314   3045           00072         MOVLW   'E'
0315   2???           00073         CALL    EnviaCarLCD  
0316   304E           00074         MOVLW   'N'
0317   2???           00075         CALL    EnviaCarLCD  
0318   3055           00076         MOVLW   'U'
0319   2???           00077         CALL    EnviaCarLCD  
031A   303A           00078         MOVLW   ':'
031B   2???           00079         CALL    EnviaCarLCD  
031C   3020           00080         MOVLW   ' '
031D   2???           00081         CALL    EnviaCarLCD  
031E   3050           00082         MOVLW   'P'
031F   2???           00083         CALL    EnviaCarLCD  
0320   3052           00084         MOVLW   'R'
0321   2???           00085         CALL    EnviaCarLCD  
0322   3045           00086         MOVLW   'E'
0323   2???           00087         CALL    EnviaCarLCD  
MPASM 5.87                          MAIN.ASM   10-3-2021  23:47:04         PAGE 24


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0324   3053           00088         MOVLW   'S'
0325   2???           00089         CALL    EnviaCarLCD  
0326   3053           00090         MOVLW   'S'
0327   2???           00091         CALL    EnviaCarLCD  
0328   3049           00092         MOVLW   'I'
0329   2???           00093         CALL    EnviaCarLCD  
032A   304F           00094         MOVLW   'O'
032B   2???           00095         CALL    EnviaCarLCD  
032C   304E           00096         MOVLW   'N'
032D   2???           00097         CALL    EnviaCarLCD  
032E   3045           00098         MOVLW   'E'
032F   2???           00099         CALL    EnviaCarLCD  
                      00100         
0330   30C0           00101         MOVLW   LCD_Linha_2     ;2 linha
0331   2???           00102         CALL    EnviaCmdLCD
0332   3031           00103         MOVLW   '1'
0333   2???           00104         CALL    EnviaCarLCD  
0334   302D           00105         MOVLW   '-'
0335   2???           00106         CALL    EnviaCarLCD  
0336   3041           00107         MOVLW   'A'
0337   2???           00108         CALL    EnviaCarLCD  
0338   3042           00109         MOVLW   'B'
0339   2???           00110         CALL    EnviaCarLCD  
033A   3052           00111         MOVLW   'R'
033B   2???           00112         CALL    EnviaCarLCD  
033C   3049           00113         MOVLW   'I'
033D   2???           00114         CALL    EnviaCarLCD  
033E   3052           00115         MOVLW   'R'
033F   2???           00116         CALL    EnviaCarLCD  
0340   302C           00117         MOVLW   ','
0341   2???           00118         CALL    EnviaCarLCD  
0342   3032           00119         MOVLW   '2'
0343   2???           00120         CALL    EnviaCarLCD  
0344   302D           00121         MOVLW   '-'
0345   2???           00122         CALL    EnviaCarLCD  
0346   304F           00123         MOVLW   'O'
0347   2???           00124         CALL    EnviaCarLCD  
0348   3050           00125         MOVLW   'P'
0349   2???           00126         CALL    EnviaCarLCD  
034A   3043           00127         MOVLW   'C'
034B   2???           00128         CALL    EnviaCarLCD  
034C   304F           00129         MOVLW   'O'
034D   2???           00130         CALL    EnviaCarLCD  
034E   3045           00131         MOVLW   'E'
034F   2???           00132         CALL    EnviaCarLCD  
0350   3053           00133         MOVLW   'S'
0351   2???           00134         CALL    EnviaCarLCD  
0352   0008           00135         RETURN
                      00136 ;++++++++++++++++++++++++++++++++++++++++++++++++++    
0353                  00137 envia_msg_entrar_LCD:
0353   3001           00138         MOVLW   LCD_CLEAR
0354   2???           00139         CALL    EnviaCmdLCD
0355   3080           00140         MOVLW   LCD_Linha_1     ;1 linha
MPASM 5.87                          MAIN.ASM   10-3-2021  23:47:04         PAGE 25


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0356   2???           00141         CALL    EnviaCmdLCD
0357   3055           00142         MOVLW   'U'
0358   2???           00143         CALL    EnviaCarLCD    
0359   3053           00144         MOVLW   'S'
035A   2???           00145         CALL    EnviaCarLCD  
035B   3055           00146         MOVLW   'U'
035C   2???           00147         CALL    EnviaCarLCD  
035D   3041           00148         MOVLW   'A'
035E   2???           00149         CALL    EnviaCarLCD  
035F   3052           00150         MOVLW   'R'
0360   2???           00151         CALL    EnviaCarLCD  
0361   3049           00152         MOVLW   'I'
0362   2???           00153         CALL    EnviaCarLCD  
0363   304F           00154         MOVLW   'O'
0364   2???           00155         CALL    EnviaCarLCD  
0365   303A           00156         MOVLW   ':'
0366   2???           00157         CALL    EnviaCarLCD  
0367   0008           00158         RETURN
                      00159 ;++++++++++++++++++++++++++++++++++++++++++++++++++++
0368                  00160 envia_msg_erro_LCD:
0368   3001           00161         MOVLW   LCD_CLEAR
0369   2???           00162         CALL    EnviaCmdLCD
036A   3080           00163         MOVLW   LCD_Linha_1     ;1 linha
036B   2???           00164         CALL    EnviaCmdLCD
036C   3055           00165         MOVLW   'U'
036D   2???           00166         CALL    EnviaCarLCD    
036E   3053           00167         MOVLW   'S'
036F   2???           00168         CALL    EnviaCarLCD  
0370   3055           00169         MOVLW   'U'
0371   2???           00170         CALL    EnviaCarLCD  
0372   3041           00171         MOVLW   'A'
0373   2???           00172         CALL    EnviaCarLCD  
0374   3052           00173         MOVLW   'R'
0375   2???           00174         CALL    EnviaCarLCD  
0376   3049           00175         MOVLW   'I'
0377   2???           00176         CALL    EnviaCarLCD  
0378   304F           00177         MOVLW   'O'
0379   2???           00178         CALL    EnviaCarLCD  
037A   3020           00179         MOVLW   ' '
037B   2???           00180         CALL    EnviaCarLCD  
037C   304E           00181         MOVLW   'N'
037D   2???           00182         CALL    EnviaCarLCD  
037E   3041           00183         MOVLW   'A'
037F   2???           00184         CALL    EnviaCarLCD  
0380   304F           00185         MOVLW   'O'
0381   2???           00186         CALL    EnviaCarLCD
0382   30C0           00187         MOVLW   LCD_Linha_2     ;1 linha
0383   2???           00188         CALL    EnviaCmdLCD
0384   3045           00189         MOVLW   'E'
0385   2???           00190         CALL    EnviaCarLCD
0386   304E           00191         MOVLW   'N'
0387   2???           00192         CALL    EnviaCarLCD
0388   3043           00193         MOVLW   'C'
MPASM 5.87                          MAIN.ASM   10-3-2021  23:47:04         PAGE 26


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0389   2???           00194         CALL    EnviaCarLCD
038A   304F           00195         MOVLW   'O'
038B   2???           00196         CALL    EnviaCarLCD
038C   304E           00197         MOVLW   'N'
038D   2???           00198         CALL    EnviaCarLCD
038E   3054           00199         MOVLW   'T'
038F   2???           00200         CALL    EnviaCarLCD
0390   3052           00201         MOVLW   'R'
0391   2???           00202         CALL    EnviaCarLCD
0392   3041           00203         MOVLW   'A'
0393   2???           00204         CALL    EnviaCarLCD
0394   3044           00205         MOVLW   'D'
0395   2???           00206         CALL    EnviaCarLCD
0396   304F           00207         MOVLW   'O'
0397   2???           00208         CALL    EnviaCarLCD
0398   1485           00209         bsf     PORTA,1
0399   2???           00210         call    delay_1s
039A   1085           00211         bcf     PORTA,1
039B   0008           00212         RETURN
                      00213 ;+++++++++++++++++++++++++++++++++++++++++++++++++
039C                  00214 envia_msg_senha_LCD:
039C   3001           00215         MOVLW   LCD_CLEAR
039D   2???           00216         CALL    EnviaCmdLCD
039E   3080           00217         MOVLW   LCD_Linha_1     ;1 linha
039F   2???           00218         CALL    EnviaCmdLCD
03A0   3053           00219         MOVLW   'S'
03A1   2???           00220         CALL    EnviaCarLCD    
03A2   3045           00221         MOVLW   'E'
03A3   2???           00222         CALL    EnviaCarLCD  
03A4   304E           00223         MOVLW   'N'
03A5   2???           00224         CALL    EnviaCarLCD  
03A6   3048           00225         MOVLW   'H'
03A7   2???           00226         CALL    EnviaCarLCD  
03A8   3041           00227         MOVLW   'A'  
03A9   2???           00228         CALL    EnviaCarLCD  
03AA   303A           00229         MOVLW   ':'
03AB   2???           00230         CALL    EnviaCarLCD  
03AC   0008           00231         RETURN
                      00232 ;++++++++++++++++++++++++++++++++++++++++++++++++++=
03AD                  00233 envia_msg_senha_erro_LCD:
03AD   3001           00234         MOVLW   LCD_CLEAR
03AE   2???           00235         CALL    EnviaCmdLCD
03AF   3080           00236         MOVLW   LCD_Linha_1     ;1 linha
03B0   2???           00237         CALL    EnviaCmdLCD
03B1   3053           00238         MOVLW   'S'
03B2   2???           00239         CALL    EnviaCarLCD    
03B3   3045           00240         MOVLW   'E'
03B4   2???           00241         CALL    EnviaCarLCD  
03B5   304E           00242         MOVLW   'N'
03B6   2???           00243         CALL    EnviaCarLCD  
03B7   3048           00244         MOVLW   'H'
03B8   2???           00245         CALL    EnviaCarLCD  
03B9   3041           00246         MOVLW   'A'
MPASM 5.87                          MAIN.ASM   10-3-2021  23:47:04         PAGE 27


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

03BA   2???           00247         CALL    EnviaCarLCD  
03BB   30C0           00248         MOVLW   LCD_Linha_2     ;1 linha
03BC   2???           00249         CALL    EnviaCmdLCD
03BD   3049           00250         MOVLW   'I'
03BE   2???           00251         CALL    EnviaCarLCD
03BF   304E           00252         MOVLW   'N'
03C0   2???           00253         CALL    EnviaCarLCD
03C1   3043           00254         MOVLW   'C'
03C2   2???           00255         CALL    EnviaCarLCD
03C3   304F           00256         MOVLW   'O'
03C4   2???           00257         CALL    EnviaCarLCD
03C5   3052           00258         MOVLW   'R'
03C6   2???           00259         CALL    EnviaCarLCD
03C7   3052           00260         MOVLW   'R'
03C8   2???           00261         CALL    EnviaCarLCD
03C9   3045           00262         MOVLW   'E'
03CA   2???           00263         CALL    EnviaCarLCD
03CB   3054           00264         MOVLW   'T'
03CC   2???           00265         CALL    EnviaCarLCD
03CD   3041           00266         MOVLW   'A'
03CE   2???           00267         CALL    EnviaCarLCD
03CF   1485           00268         bsf     PORTA,1
03D0   2???           00269         call    delay_1s
03D1   1085           00270         bcf     PORTA,1
03D2   0008           00271         RETURN
                      00272 ;++++++++++++++++++++++++++++++++++++++++++++++++++=
03D3                  00273 envia_msg_abrir_LCD:
03D3   3001           00274         MOVLW   LCD_CLEAR
03D4   2???           00275         CALL    EnviaCmdLCD
03D5   3080           00276         MOVLW   LCD_Linha_1     ;1 linha
03D6   2???           00277         CALL    EnviaCmdLCD
03D7   3046           00278         MOVLW   'F'
03D8   2???           00279         CALL    EnviaCarLCD    
03D9   3045           00280         MOVLW   'E'
03DA   2???           00281         CALL    EnviaCarLCD  
03DB   3043           00282         MOVLW   'C'
03DC   2???           00283         CALL    EnviaCarLCD  
03DD   3048           00284         MOVLW   'H'
03DE   2???           00285         CALL    EnviaCarLCD  
03DF   3041           00286         MOVLW   'A'
03E0   2???           00287         CALL    EnviaCarLCD  
03E1   3044           00288         MOVLW   'D'
03E2   2???           00289         CALL    EnviaCarLCD  
03E3   3055           00290         MOVLW   'U'
03E4   2???           00291         CALL    EnviaCarLCD  
03E5   3052           00292         MOVLW   'R'
03E6   2???           00293         CALL    EnviaCarLCD  
03E7   3041           00294         MOVLW   'A'
03E8   2???           00295         CALL    EnviaCarLCD  
                      00296         
03E9   30C0           00297         MOVLW   LCD_Linha_2     ;1 linha
03EA   2???           00298         CALL    EnviaCmdLCD
03EB   3041           00299         MOVLW   'A'
MPASM 5.87                          MAIN.ASM   10-3-2021  23:47:04         PAGE 28


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

03EC   2???           00300         CALL    EnviaCarLCD
03ED   3042           00301         MOVLW   'B'
03EE   2???           00302         CALL    EnviaCarLCD
03EF   3045           00303         MOVLW   'E'
03F0   2???           00304         CALL    EnviaCarLCD
03F1   3052           00305         MOVLW   'R'
03F2   2???           00306         CALL    EnviaCarLCD
03F3   3054           00307         MOVLW   'T'
03F4   2???           00308         CALL    EnviaCarLCD
03F5   3041           00309         MOVLW   'A'
03F6   2???           00310         CALL    EnviaCarLCD
03F7   2???           00311         CALL    delay_1s
03F8   0008           00312         RETURN
                      00313 ;++++++++++++++++++++++++++++++++++++++++++++++++++
03F9                  00314 Envia_cmd_fechar_LCD:
03F9   3001           00315         MOVLW   LCD_CLEAR
03FA   2???           00316         CALL    EnviaCmdLCD
03FB   3080           00317         MOVLW   LCD_Linha_1     ;1 linha
03FC   2???           00318         CALL    EnviaCmdLCD
03FD   3031           00319         MOVLW   '1'
03FE   2???           00320         CALL    EnviaCarLCD    
03FF   3020           00321         MOVLW   ' '
0400   2???           00322         CALL    EnviaCarLCD  
0401   3050           00323         MOVLW   'P'
0402   2???           00324         CALL    EnviaCarLCD  
0403   3041           00325         MOVLW   'A'
0404   2???           00326         CALL    EnviaCarLCD  
0405   3052           00327         MOVLW   'R'
0406   2???           00328         CALL    EnviaCarLCD  
0407   3041           00329         MOVLW   'A'
0408   2???           00330         CALL    EnviaCarLCD  
                      00331         
0409   30C0           00332         MOVLW   LCD_Linha_2     ;1 linha
040A   2???           00333         CALL    EnviaCmdLCD
040B   3046           00334         MOVLW   'F'
040C   2???           00335         CALL    EnviaCarLCD
040D   3045           00336         MOVLW   'E'
040E   2???           00337         CALL    EnviaCarLCD
040F   3043           00338         MOVLW   'C'
0410   2???           00339         CALL    EnviaCarLCD
0411   3048           00340         MOVLW   'H'
0412   2???           00341         CALL    EnviaCarLCD
0413   3041           00342         MOVLW   'A'
0414   2???           00343         CALL    EnviaCarLCD
0415   3052           00344         MOVLW   'R'
0416   2???           00345         CALL    EnviaCarLCD
0417   2???           00346         CALL    delay_1s
0418   0008           00347         RETURN
                      00348 ;++++++++++++++++++++++++++++++++++++++++++++++++++
0419                  00349 envia_msg_opcao_LCD:
0419   3001           00350         MOVLW   LCD_CLEAR
041A   2???           00351         CALL    EnviaCmdLCD
041B   3080           00352         MOVLW   LCD_Linha_1     ;1 linha
MPASM 5.87                          MAIN.ASM   10-3-2021  23:47:04         PAGE 29


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

041C   2???           00353         CALL    EnviaCmdLCD
041D   304F           00354         MOVLW   'O'
041E   2???           00355         CALL    EnviaCarLCD    
041F   3050           00356         MOVLW   'P'
0420   2???           00357         CALL    EnviaCarLCD  
0421   3043           00358         MOVLW   'C'
0422   2???           00359         CALL    EnviaCarLCD  
0423   304F           00360         MOVLW   'O'
0424   2???           00361         CALL    EnviaCarLCD  
0425   3045           00362         MOVLW   'E'
0426   2???           00363         CALL    EnviaCarLCD  
0427   3053           00364         MOVLW   'S'
0428   2???           00365         CALL    EnviaCarLCD  
0429   3020           00366         MOVLW   ' '
042A   2???           00367         CALL    EnviaCarLCD    
042B   304D           00368         MOVLW   'M'
042C   2???           00369         CALL    EnviaCarLCD  
042D   3055           00370         MOVLW   'U'
042E   2???           00371         CALL    EnviaCarLCD  
042F   3044           00372         MOVLW   'D'
0430   2???           00373         CALL    EnviaCarLCD  
0431   3041           00374         MOVLW   'A'
0432   2???           00375         CALL    EnviaCarLCD  
0433   3052           00376         MOVLW   'R'
0434   2???           00377         CALL    EnviaCarLCD  
                      00378         
0435   30C0           00379         MOVLW   LCD_Linha_2     ;2 linha
0436   2???           00380         CALL    EnviaCmdLCD
0437   3031           00381         MOVLW   '1'
0438   2???           00382         CALL    EnviaCarLCD
0439   302D           00383         MOVLW   '-'
043A   2???           00384         CALL    EnviaCarLCD
043B   3055           00385         MOVLW   'U'
043C   2???           00386         CALL    EnviaCarLCD
043D   3053           00387         MOVLW   'S'
043E   2???           00388         CALL    EnviaCarLCD
043F   3045           00389         MOVLW   'E'
0440   2???           00390         CALL    EnviaCarLCD
0441   3052           00391         MOVLW   'R'
0442   2???           00392         CALL    EnviaCarLCD
0443   302C           00393         MOVLW   ','
0444   2???           00394         CALL    EnviaCarLCD
0445   3032           00395         MOVLW   '2'
0446   2???           00396         CALL    EnviaCarLCD
0447   302D           00397         MOVLW   '-'
0448   2???           00398         CALL    EnviaCarLCD
0449   3050           00399         MOVLW   'P'
044A   2???           00400         CALL    EnviaCarLCD
044B   3041           00401         MOVLW   'A'
044C   2???           00402         CALL    EnviaCarLCD
044D   3053           00403         MOVLW   'S'
044E   2???           00404         CALL    EnviaCarLCD
044F   3053           00405         MOVLW   'S'
MPASM 5.87                          MAIN.ASM   10-3-2021  23:47:04         PAGE 30


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0450   2???           00406         CALL    EnviaCarLCD
0451   0008           00407         RETURN
                      00408 ;++++++++++++++++++++++++++++++++++++++++++++++++++
0452                  00409 Enviar_msg_change_user_LCD:
0452   3001           00410         MOVLW   LCD_CLEAR
0453   2???           00411         CALL    EnviaCmdLCD
0454   3080           00412         MOVLW   LCD_Linha_1     ;1 linha
0455   2???           00413         CALL    EnviaCmdLCD
0456   3055           00414         MOVLW   'U'
0457   2???           00415         CALL    EnviaCarLCD    
0458   3053           00416         MOVLW   'S'
0459   2???           00417         CALL    EnviaCarLCD  
045A   3045           00418         MOVLW   'E'
045B   2???           00419         CALL    EnviaCarLCD  
045C   3052           00420         MOVLW   'R'
045D   2???           00421         CALL    EnviaCarLCD  
045E   3020           00422         MOVLW   ' '
045F   2???           00423         CALL    EnviaCarLCD  
0460   3041           00424         MOVLW   'A'
0461   2???           00425         CALL    EnviaCarLCD  
0462   3054           00426         MOVLW   'T'
0463   2???           00427         CALL    EnviaCarLCD    
0464   3055           00428         MOVLW   'U'
0465   2???           00429         CALL    EnviaCarLCD  
0466   3041           00430         MOVLW   'A'
0467   2???           00431         CALL    EnviaCarLCD  
0468   304C           00432         MOVLW   'L'
0469   2???           00433         CALL    EnviaCarLCD  
046A   303A           00434         MOVLW   ':'
046B   2???           00435         CALL    EnviaCarLCD  
046C   0008           00436         return
                      00437         
                      00438 ;++++++++++++++++++++++++++++++++++++++++++++++++++
046D                  00439 Enviar_msg_change_user2_LCD:
046D   3001           00440         MOVLW   LCD_CLEAR
046E   2???           00441         CALL    EnviaCmdLCD
046F   3080           00442         MOVLW   LCD_Linha_1     ;1 linha
0470   2???           00443         CALL    EnviaCmdLCD
0471   3033           00444         MOVLW   '3'
0472   2???           00445         CALL    EnviaCarLCD    
0473   3020           00446         MOVLW   ' '
0474   2???           00447         CALL    EnviaCarLCD  
0475   3044           00448         MOVLW   'D'
0476   2???           00449         CALL    EnviaCarLCD  
0477   3049           00450         MOVLW   'I'
0478   2???           00451         CALL    EnviaCarLCD  
0479   3047           00452         MOVLW   'G'
047A   2???           00453         CALL    EnviaCarLCD  
047B   302E           00454         MOVLW   '.'
047C   2???           00455         CALL    EnviaCarLCD  
047D   3020           00456         MOVLW   ' '
047E   2???           00457         CALL    EnviaCarLCD    
047F   304E           00458         MOVLW   'N'
MPASM 5.87                          MAIN.ASM   10-3-2021  23:47:04         PAGE 31


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0480   2???           00459         CALL    EnviaCarLCD  
0481   3045           00460         MOVLW   'E'
0482   2???           00461         CALL    EnviaCarLCD  
0483   3057           00462         MOVLW   'W'
0484   2???           00463         CALL    EnviaCarLCD  
0485   3020           00464         MOVLW   ' '
0486   2???           00465         CALL    EnviaCarLCD  
0487   3055           00466         MOVLW   'U'
0488   2???           00467         CALL    EnviaCarLCD
0489   3053           00468         MOVLW   'S'
048A   2???           00469         CALL    EnviaCarLCD
048B   3045           00470         MOVLW   'E'
048C   2???           00471         CALL    EnviaCarLCD
048D   3052           00472         MOVLW   'R'
048E   2???           00473         CALL    EnviaCarLCD
048F   303A           00474         MOVLW   ':'
0490   2???           00475         CALL    EnviaCarLCD
0491   0008           00476         return
                      00477         
                      00478         
0492                  00479 Exibir_novo_user_LCD:
0492   3001           00480         MOVLW   LCD_CLEAR
0493   2???           00481         CALL    EnviaCmdLCD
0494   3080           00482         MOVLW   LCD_Linha_1     ;1 linha
0495   2???           00483         CALL    EnviaCmdLCD
0496   304E           00484         MOVLW   'N'
0497   2???           00485         CALL    EnviaCarLCD    
0498   304F           00486         MOVLW   'O'
0499   2???           00487         CALL    EnviaCarLCD  
049A   3056           00488         MOVLW   'V'
049B   2???           00489         CALL    EnviaCarLCD  
049C   304F           00490         MOVLW   'O'
049D   2???           00491         CALL    EnviaCarLCD  
049E   3020           00492         MOVLW   ' '
049F   2???           00493         CALL    EnviaCarLCD  
04A0   3055           00494         MOVLW   'U'
04A1   2???           00495         CALL    EnviaCarLCD
04A2   3053           00496         MOVLW   'S'
04A3   2???           00497         CALL    EnviaCarLCD   
04A4   3045           00498         MOVLW   'E'
04A5   2???           00499         CALL    EnviaCarLCD    
04A6   3052           00500         MOVLW   'R'
04A7   2???           00501         CALL    EnviaCarLCD  
04A8   30C0           00502         MOVLW   LCD_Linha_2     ;2 linha
04A9   2???           00503         CALL    EnviaCmdLCD
04AA   3052           00504         MOVLW   'R'
04AB   2???           00505         CALL    EnviaCarLCD  
04AC   3045           00506         MOVLW   'E'
04AD   2???           00507         CALL    EnviaCarLCD  
04AE   3047           00508         MOVLW   'G'
04AF   2???           00509         CALL    EnviaCarLCD  
04B0   3049           00510         MOVLW   'I'
04B1   2???           00511         CALL    EnviaCarLCD  
MPASM 5.87                          MAIN.ASM   10-3-2021  23:47:04         PAGE 32


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

04B2   3053           00512         MOVLW   'S'
04B3   2???           00513         CALL    EnviaCarLCD    
04B4   3054           00514         MOVLW   'T'
04B5   2???           00515         CALL    EnviaCarLCD
04B6   3045           00516         MOVLW   'E'
04B7   2???           00517         CALL    EnviaCarLCD
04B8   3052           00518         MOVLW   'R'
04B9   2???           00519         CALL    EnviaCarLCD
04BA   3045           00520         MOVLW   'E'
04BB   2???           00521         CALL    EnviaCarLCD
04BC   3044           00522         MOVLW   'D'
04BD   2???           00523         CALL    EnviaCarLCD
04BE   2???           00524         call    delay_1s
04BF   0008           00525         return
                      00526         
04C0                  00527 Exibir_old_pass_LCD:
04C0   3001           00528         MOVLW   LCD_CLEAR
04C1   2???           00529         CALL    EnviaCmdLCD
04C2   3080           00530         MOVLW   LCD_Linha_1     ;1 linha
04C3   2???           00531         CALL    EnviaCmdLCD
04C4   3053           00532         MOVLW   'S'
04C5   2???           00533         CALL    EnviaCarLCD    
04C6   3045           00534         MOVLW   'E'
04C7   2???           00535         CALL    EnviaCarLCD  
04C8   304E           00536         MOVLW   'N'
04C9   2???           00537         CALL    EnviaCarLCD  
04CA   3048           00538         MOVLW   'H'
04CB   2???           00539         CALL    EnviaCarLCD  
04CC   3041           00540         MOVLW   'A'
04CD   2???           00541         CALL    EnviaCarLCD  
04CE   3020           00542         MOVLW   ' '
04CF   2???           00543         CALL    EnviaCarLCD
04D0   3041           00544         MOVLW   'A'
04D1   2???           00545         CALL    EnviaCarLCD   
04D2   3054           00546         MOVLW   'T'
04D3   2???           00547         CALL    EnviaCarLCD    
04D4   3055           00548         MOVLW   'U'
04D5   2???           00549         CALL    EnviaCarLCD  
04D6   3041           00550         MOVLW   'A'
04D7   2???           00551         CALL    EnviaCarLCD  
04D8   304C           00552         MOVLW   'L'
04D9   2???           00553         CALL    EnviaCarLCD  
04DA   303A           00554         MOVLW   ':'
04DB   2???           00555         CALL    EnviaCarLCD  
04DC   30C0           00556         MOVLW   LCD_Linha_2     ;2 linha
04DD   2???           00557         CALL    EnviaCmdLCD
04DE   0008           00558         return
                      00559         
04DF                  00560 Exibir_NEW_pass_LCD:
04DF   3001           00561         MOVLW   LCD_CLEAR
04E0   2???           00562         CALL    EnviaCmdLCD
04E1   3080           00563         MOVLW   LCD_Linha_1     ;1 linha
04E2   2???           00564         CALL    EnviaCmdLCD
MPASM 5.87                          MAIN.ASM   10-3-2021  23:47:04         PAGE 33


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

04E3   304E           00565         MOVLW   'N'
04E4   2???           00566         CALL    EnviaCarLCD    
04E5   304F           00567         MOVLW   'O'
04E6   2???           00568         CALL    EnviaCarLCD  
04E7   3056           00569         MOVLW   'V'
04E8   2???           00570         CALL    EnviaCarLCD  
04E9   3041           00571         MOVLW   'A'
04EA   2???           00572         CALL    EnviaCarLCD  
04EB   3020           00573         MOVLW   ' '
04EC   2???           00574         CALL    EnviaCarLCD  
04ED   3053           00575         MOVLW   'S'
04EE   2???           00576         CALL    EnviaCarLCD
04EF   3045           00577         MOVLW   'E'
04F0   2???           00578         CALL    EnviaCarLCD   
04F1   304E           00579         MOVLW   'N'
04F2   2???           00580         CALL    EnviaCarLCD    
04F3   3048           00581         MOVLW   'H'
04F4   2???           00582         CALL    EnviaCarLCD  
04F5   3041           00583         MOVLW   'A'
04F6   2???           00584         CALL    EnviaCarLCD  
04F7   303A           00585         MOVLW   ':'
04F8   2???           00586         CALL    EnviaCarLCD  
04F9   30C0           00587         MOVLW   LCD_Linha_2     ;2 linha
04FA   2???           00588         CALL    EnviaCmdLCD
04FB   0008           00589         return
                      00590         
04FC                  00591 Exibir_senha_alterada_LCD:
04FC   3001           00592         MOVLW   LCD_CLEAR
04FD   2???           00593         CALL    EnviaCmdLCD
04FE   3080           00594         MOVLW   LCD_Linha_1     ;1 linha
04FF   2???           00595         CALL    EnviaCmdLCD
0500   3053           00596         MOVLW   'S'
0501   2???           00597         CALL    EnviaCarLCD    
0502   3045           00598         MOVLW   'E'
0503   2???           00599         CALL    EnviaCarLCD  
0504   304E           00600         MOVLW   'N'
0505   2???           00601         CALL    EnviaCarLCD  
0506   3048           00602         MOVLW   'H'
0507   2???           00603         CALL    EnviaCarLCD  
0508   3041           00604         MOVLW   'A'
0509   2???           00605         CALL    EnviaCarLCD  
050A   3020           00606         MOVLW   ' '
050B   2???           00607         CALL    EnviaCarLCD
050C   3041           00608         MOVLW   'A'
050D   2???           00609         CALL    EnviaCarLCD   
050E   304C           00610         MOVLW   'L'
050F   2???           00611         CALL    EnviaCarLCD    
0510   3054           00612         MOVLW   'T'
0511   2???           00613         CALL    EnviaCarLCD  
0512   3045           00614         MOVLW   'E'
0513   2???           00615         CALL    EnviaCarLCD  
0514   3052           00616         MOVLW   'R'
0515   2???           00617         CALL    EnviaCarLCD  
MPASM 5.87                          MAIN.ASM   10-3-2021  23:47:04         PAGE 34


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0516   3041           00618         MOVLW   'A'
0517   2???           00619         CALL    EnviaCarLCD
0518   3044           00620         MOVLW   'D'
0519   2???           00621         CALL    EnviaCarLCD
051A   3041           00622         MOVLW   'A'
051B   2???           00623         CALL    EnviaCarLCD
051C   303A           00624         MOVLW   ':'
051D   2???           00625         CALL    EnviaCarLCD
051E   2???           00626         call    delay_1s
051F   0008           00627         return
                      00912         #include        "up_md_atrasos.asm"
                      00001 ;******************************************************************
                      00002 ;* Rotinas para gerar atrasos de tempo,
                      00003 ;* reg. "contador1,2,3" para estabelecer o tempo de atraso
                      00004 ;* frequência de clock = 16.000 Mhz
                      00005 ; UFMT: Jun/2017
                      00006 ;******************************************************************
                      00007 
                      00008         cblock
  0000002F            00009                 contador1       ;registradores usados para atraso
  00000030            00010                 contador2
  00000031            00011                 contador3
                      00012         endc
                      00013 
0520                  00014 delay_1ms:      
0520   302F           00015         movlw   D'47'
0521   00AF           00016         movwf   contador1
0522   3006           00017         movlw   D'6'
0523   00B0           00018         movwf   contador2
0524   0BAF           00019         decfsz  contador1,F     ;
0525   2???           00020         goto    $-1
0526   0BB0           00021         decfsz  contador2,1
0527   2???           00022         goto    $-3
0528   0008           00023         return  
                      00024 
0529                  00025 delay_2ms:      
0529   3061           00026         movlw   D'97'
052A   00AF           00027         movwf   contador1
052B   300B           00028         movlw   D'11'
052C   00B0           00029         movwf   contador2
052D   0BAF           00030         decfsz  contador1,F     ;
052E   2???           00031         goto    $-1
052F   0BB0           00032         decfsz  contador2,1
0530   2???           00033         goto    $-3
0531   0008           00034         return  
                      00035 
0532                  00036 delay_3ms:      
0532   3093           00037         movlw   D'147'
0533   00AF           00038         movwf   contador1
0534   3010           00039         movlw   D'16'
0535   00B0           00040         movwf   contador2
0536   0BAF           00041         decfsz  contador1,F     ;
0537   2???           00042         goto    $-1
MPASM 5.87                          MAIN.ASM   10-3-2021  23:47:04         PAGE 35


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0538   0BB0           00043         decfsz  contador2,1
0539   2???           00044         goto    $-3
053A   0008           00045         return  
                      00046 
053B                  00047 delay_4ms:      
053B   30C5           00048         movlw   D'197'
053C   00AF           00049         movwf   contador1
053D   3015           00050         movlw   D'21'
053E   00B0           00051         movwf   contador2
053F   0BAF           00052         decfsz  contador1,F     ;
0540   2???           00053         goto    $-1
0541   0BB0           00054         decfsz  contador2,1
0542   2???           00055         goto    $-3
0543   0008           00056         return  
                      00057 
0544                  00058 delay_5ms:      
0544   30F7           00059         movlw   D'247'
0545   00AF           00060         movwf   contador1
0546   301A           00061         movlw   D'26'
0547   00B0           00062         movwf   contador2
0548   0BAF           00063         decfsz  contador1,F     ;
0549   2???           00064         goto    $-1
054A   0BB0           00065         decfsz  contador2,1
054B   2???           00066         goto    $-3
054C   0008           00067         return  
                      00068 
054D                  00069 delay_10ms:
054D   30F0           00070         movlw   D'240'
054E   00AF           00071         movwf   contador1
054F   3034           00072         movlw   D'52'
0550   00B0           00073         movwf   contador2
0551   0BAF           00074         decfsz  contador1,1
0552   2???           00075         goto    $-1
0553   0BB0           00076         decfsz  contador2,1
0554   2???           00077         goto    $-3
0555   0008           00078         return  
                      00079 
0556                  00080 delay_20ms:
0556   30E2           00081         movlw   D'226'
0557   00AF           00082         movwf   contador1
0558   3068           00083         movlw   D'104'
0559   00B0           00084         movwf   contador2
055A   0BAF           00085         decfsz  contador1,1
055B   2???           00086         goto    $-1
055C   0BB0           00087         decfsz  contador2,1
055D   2???           00088         goto    $-3
055E   0008           00089         return  
                      00090 
055F                  00091 delay_50ms:
055F   30B9           00092         movlw   D'185'
0560   00AF           00093         movwf   contador1
0561   3004           00094         movlw   D'4'
0562   00B0           00095         movwf   contador2
MPASM 5.87                          MAIN.ASM   10-3-2021  23:47:04         PAGE 36


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0563   3002           00096         movlw   D'2'
0564   00B1           00097         movwf   contador3
0565   0BAF           00098         decfsz  contador1,1
0566   2???           00099         goto    $-1
0567   0BB0           00100         decfsz  contador2,1
0568   2???           00101         goto    $-3
0569   0BB1           00102         decfsz  contador3,1
056A   2???           00103         goto    $-5
056B   0008           00104         return
                      00105 
056C                  00106 delay_100ms:
056C   3075           00107         movlw   D'117'
056D   00AF           00108         movwf   contador1
056E   3008           00109         movlw   D'8'
056F   00B0           00110         movwf   contador2
0570   3003           00111         movlw   D'3'
0571   00B1           00112         movwf   contador3
0572   0BAF           00113         decfsz  contador1,1
0573   2???           00114         goto    $-1
0574   0BB0           00115         decfsz  contador2,1
0575   2???           00116         goto    $-3
0576   0BB1           00117         decfsz  contador3,1
0577   2???           00118         goto    $-5
0578   0008           00119         return
                      00120 
0579                  00121 delay_500ms:
0579   305C           00122         movlw   D'92'
057A   00AF           00123         movwf   contador1
057B   3026           00124         movlw   D'38'
057C   00B0           00125         movwf   contador2
057D   300B           00126         movlw   D'11'
057E   00B1           00127         movwf   contador3
057F   0BAF           00128         decfsz  contador1,F     ;
0580   2???           00129         goto    $-1
0581   0BB0           00130         decfsz  contador2,1
0582   2???           00131         goto    $-3
0583   0BB1           00132         decfsz  contador3,1
0584   2???           00133         goto    $-5
0585   0008           00134         return  
                      00135 
0586                  00136 delay_1s:
0586   30BD           00137         movlw   D'189'
0587   00AF           00138         movwf   contador1
0588   304B           00139         movlw   D'75'
0589   00B0           00140         movwf   contador2
058A   3015           00141         movlw   D'21'
058B   00B1           00142         movwf   contador3
058C   0BAF           00143         decfsz  contador1,1
058D   2???           00144         goto    $-1
058E   0BB0           00145         decfsz  contador2,1
058F   2???           00146         goto    $-3
0590   0BB1           00147         decfsz  contador3,1
0591   2???           00148         goto    $-5
MPASM 5.87                          MAIN.ASM   10-3-2021  23:47:04         PAGE 37


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0592   0008           00149         return
                      00913         #include        "verify_password.asm"
                      00001         cblock
  00000032            00002                 flag_error
  00000033            00003                 p1,p2,p3,p4,p5
  00000038            00004                 a1,a2,a3,a4,a5
  0000003D            00005                 b1,b2,b3,b4,b5
  00000042            00006                 c1,c2,c3,c4,c5
  00000047            00007                 d1,d2,d3,d4,d5
                      00008         endc
                      00009 
0593                  00010 Set_password:
0593   3031           00011         movlw   '1'
0594   00B3           00012         movwf   p1      ;coloca numero 1 como primeiro digito da senha
0595   3032           00013         movlw   '2'
0596   00B4           00014         movwf   p2      ;coloca numero 2 como primeiro digito da senha
0597   3033           00015         movlw   '3'
0598   00B5           00016         movwf   p3      ;coloca numero 3 como primeiro digito da senha
0599   3034           00017         movlw   '4'
059A   00B6           00018         movwf   p4       ;coloca numero 4 como primeiro digito da senha
059B   3035           00019         movlw   '5'
059C   00B7           00020         movwf   p5       ;coloca numero 5 como primeiro digito da senha
                      00021         
059D   3031           00022         movlw   '1'
059E   00B8           00023         movwf   a1      ;coloca numero 1 como primeiro digito da senha
059F   3031           00024         movlw   '1'
05A0   00B9           00025         movwf   a2      ;coloca numero 2 como primeiro digito da senha
05A1   3032           00026         movlw   '2'
05A2   00BA           00027         movwf   a3      ;coloca numero 3 como primeiro digito da senha
05A3   3034           00028         movlw   '4'
05A4   00BB           00029         movwf   a4       ;coloca numero 4 como primeiro digito da senha
05A5   3036           00030         movlw   '6'
05A6   00BC           00031         movwf   a5       ;coloca numero 5 como primeiro digito da senha
                      00032         
05A7   3032           00033         movlw   '2'
05A8   00BD           00034         movwf   b1      ;coloca numero 1 como primeiro digito da senha
05A9   3032           00035         movlw   '2'
05AA   00BE           00036         movwf   b2      ;coloca numero 2 como primeiro digito da senha
05AB   3032           00037         movlw   '2'
05AC   00BF           00038         movwf   b3      ;coloca numero 3 como primeiro digito da senha
05AD   3032           00039         movlw   '2'
05AE   00C0           00040         movwf   b4       ;coloca numero 4 como primeiro digito da senha
05AF   3032           00041         movlw   '2'
05B0   00C1           00042         movwf   b5       ;coloca numero 5 como primeiro digito da senha
                      00043         
05B1   3036           00044         movlw   '6'
05B2   00C2           00045         movwf   c1      ;coloca numero 1 como primeiro digito da senha
05B3   3039           00046         movlw   '9'
05B4   00C3           00047         movwf   c2      ;coloca numero 2 como primeiro digito da senha
05B5   3031           00048         movlw   '1'
05B6   00C4           00049         movwf   c3      ;coloca numero 3 como primeiro digito da senha
05B7   3037           00050         movlw   '7'
05B8   00C5           00051         movwf   c4       ;coloca numero 4 como primeiro digito da senha
MPASM 5.87                          MAIN.ASM   10-3-2021  23:47:04         PAGE 38


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

05B9   3031           00052         movlw   '1'
05BA   00C6           00053         movwf   c5       ;coloca numero 5 como primeiro digito da senha
                      00054         
05BB   3035           00055         movlw   '5'
05BC   00C7           00056         movwf   d1      ;coloca numero 1 como primeiro digito da senha
05BD   3036           00057         movlw   '6'
05BE   00C8           00058         movwf   d2      ;coloca numero 2 como primeiro digito da senha
05BF   3033           00059         movlw   '3'
05C0   00C9           00060         movwf   d3      ;coloca numero 3 como primeiro digito da senha
05C1   3039           00061         movlw   '9'
05C2   00CA           00062         movwf   d4       ;coloca numero 4 como primeiro digito da senha
05C3   3038           00063         movlw   '8'
05C4   00CB           00064         movwf   d5       ;coloca numero 5 como primeiro digito da senha
05C5   0008           00065         return
                      00066 
05C6                  00067 Verify_password:
05C6   01B2           00068         clrf    flag_error
05C7   0820           00069         movfw   dig1
05C8   0633           00070         xorwf   p1,0
05C9   1D03           00071         btfss   STATUS,Z
05CA   14B2           00072         bsf     flag_error,F
05CB   0821           00073         movfw   dig2
05CC   0634           00074         xorwf   p2,0
05CD   1D03           00075         btfss   STATUS,Z
05CE   14B2           00076         bsf     flag_error,F
05CF   0822           00077         movfw   dig3
05D0   0635           00078         xorwf   p3,0
05D1   1D03           00079         btfss   STATUS,Z
05D2   14B2           00080         bsf     flag_error,F
05D3   0823           00081         movfw   dig4
05D4   0636           00082         xorwf   p4,0
05D5   1D03           00083         btfss   STATUS,Z
05D6   14B2           00084         bsf     flag_error,F
05D7   0824           00085         movfw   dig5
05D8   0637           00086         xorwf   p5,0
05D9   1D03           00087         btfss   STATUS,Z
05DA   14B2           00088         bsf     flag_error,F
05DB   0008           00089         return
                      00090 
05DC                  00091 Verify_password2:
05DC   01B2           00092         clrf    flag_error
05DD   0820           00093         movfw   dig1
05DE   0638           00094         xorwf   a1,0
05DF   1D03           00095         btfss   STATUS,Z
05E0   14B2           00096         bsf     flag_error,F
05E1   0821           00097         movfw   dig2
05E2   0639           00098         xorwf   a2,0
05E3   1D03           00099         btfss   STATUS,Z
05E4   14B2           00100         bsf     flag_error,F
05E5   0822           00101         movfw   dig3
05E6   063A           00102         xorwf   a3,0
05E7   1D03           00103         btfss   STATUS,Z
05E8   14B2           00104         bsf     flag_error,F
MPASM 5.87                          MAIN.ASM   10-3-2021  23:47:04         PAGE 39


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

05E9   0823           00105         movfw   dig4
05EA   063B           00106         xorwf   a4,0
05EB   1D03           00107         btfss   STATUS,Z
05EC   14B2           00108         bsf     flag_error,F
05ED   0824           00109         movfw   dig5
05EE   063C           00110         xorwf   a5,0
05EF   1D03           00111         btfss   STATUS,Z
05F0   14B2           00112         bsf     flag_error,F
05F1   0008           00113         return
                      00114 
05F2                  00115 Verify_password3:
05F2   01B2           00116         clrf    flag_error
05F3   0820           00117         movfw   dig1
05F4   063D           00118         xorwf   b1,0
05F5   1D03           00119         btfss   STATUS,Z
05F6   14B2           00120         bsf     flag_error,F
05F7   0821           00121         movfw   dig2
05F8   063E           00122         xorwf   b2,0
05F9   1D03           00123         btfss   STATUS,Z
05FA   14B2           00124         bsf     flag_error,F
05FB   0822           00125         movfw   dig3
05FC   063F           00126         xorwf   b3,0
05FD   1D03           00127         btfss   STATUS,Z
05FE   14B2           00128         bsf     flag_error,F
05FF   0823           00129         movfw   dig4
0600   0640           00130         xorwf   b4,0
0601   1D03           00131         btfss   STATUS,Z
0602   14B2           00132         bsf     flag_error,F
0603   0824           00133         movfw   dig5
0604   0641           00134         xorwf   b5,0
0605   1D03           00135         btfss   STATUS,Z
0606   14B2           00136         bsf     flag_error,F
0607   0008           00137         return
                      00138 
0608                  00139 Verify_password4:
0608   01B2           00140         clrf    flag_error
0609   0820           00141         movfw   dig1
060A   0642           00142         xorwf   c1,0
060B   1D03           00143         btfss   STATUS,Z
060C   14B2           00144         bsf     flag_error,F
060D   0821           00145         movfw   dig2
060E   0643           00146         xorwf   c2,0
060F   1D03           00147         btfss   STATUS,Z
0610   14B2           00148         bsf     flag_error,F
0611   0822           00149         movfw   dig3
0612   0644           00150         xorwf   c3,0
0613   1D03           00151         btfss   STATUS,Z
0614   14B2           00152         bsf     flag_error,F
0615   0823           00153         movfw   dig4
0616   0645           00154         xorwf   c4,0
0617   1D03           00155         btfss   STATUS,Z
0618   14B2           00156         bsf     flag_error,F
0619   0824           00157         movfw   dig5
MPASM 5.87                          MAIN.ASM   10-3-2021  23:47:04         PAGE 40


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

061A   0646           00158         xorwf   c5,0
061B   1D03           00159         btfss   STATUS,Z
061C   14B2           00160         bsf     flag_error,F
061D   0008           00161         return
                      00162         
061E                  00163 Verify_password5:
061E   01B2           00164         clrf    flag_error
061F   0820           00165         movfw   dig1
0620   0647           00166         xorwf   d1,0
0621   1D03           00167         btfss   STATUS,Z
0622   14B2           00168         bsf     flag_error,F
0623   0821           00169         movfw   dig2
0624   0648           00170         xorwf   d2,0
0625   1D03           00171         btfss   STATUS,Z
0626   14B2           00172         bsf     flag_error,F
0627   0822           00173         movfw   dig3
0628   0649           00174         xorwf   d3,0
0629   1D03           00175         btfss   STATUS,Z
062A   14B2           00176         bsf     flag_error,F
062B   0823           00177         movfw   dig4
062C   064A           00178         xorwf   d4,0
062D   1D03           00179         btfss   STATUS,Z
062E   14B2           00180         bsf     flag_error,F
062F   0824           00181         movfw   dig5
0630   064B           00182         xorwf   d5,0
0631   1D03           00183         btfss   STATUS,Z
0632   14B2           00184         bsf     flag_error,F
0633   0008           00185         return
                      00186         
0634                  00187 New_password:
                      00188         ;flag testa e envia para um dos labels de senha
0634   18DC           00189         btfsc   flag_user1,F
0635   2???           00190         goto    change_pass_U
0636   18DD           00191         btfsc   flag_user2,F
0637   2???           00192         goto    change_pass_A
0638   18DE           00193         btfsc   flag_user3,F
0639   2???           00194         goto    change_pass_B
063A   18DF           00195         btfsc   flag_user4,F
063B   2???           00196         goto    change_pass_C
063C   18E0           00197         btfsc   flag_user5,F
063D   2???           00198         goto    change_pass_D
063E   0008           00199         return
063F                  00200 change_pass_U:
063F   0820           00201         movfw   dig1
0640   00B3           00202         movwf   p1
0641   0821           00203         movfw   dig2
0642   00B4           00204         movwf   p2
0643   0822           00205         movfw   dig3
0644   00B5           00206         movwf   p3
0645   0823           00207         movfw   dig4
0646   00B6           00208         movwf   p4
0647   0824           00209         movfw   dig5
0648   00B7           00210         movwf   p5
MPASM 5.87                          MAIN.ASM   10-3-2021  23:47:04         PAGE 41


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0649   0008           00211         return
064A                  00212 change_pass_A:
064A   0820           00213         movfw   dig1
064B   00B8           00214         movwf   a1
064C   0821           00215         movfw   dig2
064D   00B9           00216         movwf   a2
064E   0822           00217         movfw   dig3
064F   00BA           00218         movwf   a3
0650   0823           00219         movfw   dig4
0651   00BB           00220         movwf   a4
0652   0824           00221         movfw   dig5
0653   00BC           00222         movwf   a5
0654   0008           00223         return
0655                  00224 change_pass_B:
0655   0820           00225         movfw   dig1
0656   00BD           00226         movwf   b1
0657   0821           00227         movfw   dig2
0658   00BE           00228         movwf   b2
0659   0822           00229         movfw   dig3
065A   00BF           00230         movwf   b3
065B   0823           00231         movfw   dig4
065C   00C0           00232         movwf   b4
065D   0824           00233         movfw   dig5
065E   00C1           00234         movwf   b5
065F   0008           00235         return
0660                  00236 change_pass_C:
0660   0820           00237         movfw   dig1
0661   00C2           00238         movwf   c1
0662   0821           00239         movfw   dig2
0663   00C3           00240         movwf   c2
0664   0822           00241         movfw   dig3
0665   00C4           00242         movwf   c3
0666   0823           00243         movfw   dig4
0667   00C5           00244         movwf   c4
0668   0824           00245         movfw   dig5
0669   00C6           00246         movwf   c5
066A   0008           00247         return
066B                  00248 change_pass_D:
066B   0820           00249         movfw   dig1
066C   00C7           00250         movwf   d1
066D   0821           00251         movfw   dig2
066E   00C8           00252         movwf   d2
066F   0822           00253         movfw   dig3
0670   00C9           00254         movwf   d3
0671   0823           00255         movfw   dig4
0672   00CA           00256         movwf   d4
0673   0824           00257         movfw   dig5
0674   00CB           00258         movwf   d5
0675   0008           00259         return
                      00914         #include        "user.asm"
                      00001         cblock
  0000004C            00002                 flag_user_err
  0000004D            00003                 U1,U2,U3
MPASM 5.87                          MAIN.ASM   10-3-2021  23:47:04         PAGE 42


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  00000050            00004                 A1,A2,A3
  00000053            00005                 B1,B2,B3
  00000056            00006                 C1,C2,C3
  00000059            00007                 D1,D2,D3
  0000005C            00008                 flag_user1,flag_user2,flag_user3,flag_user4,flag_user5
                      00009         endc
                      00010 
0676                  00011 Iniciar_senhas:
0676   3031           00012         movlw   '1'
0677   00CD           00013         movwf   U1
0678   3032           00014         movlw   '2'
0679   00CE           00015         movwf   U2
067A   3033           00016         movlw   '3'
067B   00CF           00017         movwf   U3
067C   3036           00018         movlw   '6'
067D   00D0           00019         movwf   A1
067E   3036           00020         movlw   '6'
067F   00D1           00021         movwf   A2
0680   3036           00022         movlw   '6'
0681   00D2           00023         movwf   A3
0682   3031           00024         movlw   '1'
0683   00D3           00025         movwf   B1
0684   3031           00026         movlw   '1'
0685   00D4           00027         movwf   B2
0686   3031           00028         movlw   '1'
0687   00D5           00029         movwf   B3
0688   3031           00030         movlw   '1'
0689   00D6           00031         movwf   C1
068A   3035           00032         movlw   '5'
068B   00D7           00033         movwf   C2
068C   3037           00034         movlw   '7'
068D   00D8           00035         movwf   C3
068E   3031           00036         movlw   '1'
068F   00D9           00037         movwf   D1
0690   3032           00038         movlw   '2'
0691   00DA           00039         movwf   D2
0692   3034           00040         movlw   '4'
0693   00DB           00041         movwf   D3
0694   0008           00042         return
                      00043 
                      00044      
0695                  00045 Verify_user:    
0695   01CC           00046         clrf    flag_user_err
0696   01DC           00047         clrf    flag_user1
0697   0825           00048         movfw   user1
0698   064D           00049         xorwf   U1,0
0699   1D03           00050         btfss   STATUS,Z
069A   14CC           00051         bsf     flag_user_err,F
069B   0826           00052         movfw   user2
069C   064E           00053         xorwf   U2,0
069D   1D03           00054         btfss   STATUS,Z
069E   14CC           00055         bsf     flag_user_err,F
069F   0827           00056         movfw   user3
MPASM 5.87                          MAIN.ASM   10-3-2021  23:47:04         PAGE 43


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

06A0   064F           00057         xorwf   U3,0
06A1   1D03           00058         btfss   STATUS,Z
06A2   14CC           00059         bsf     flag_user_err,F
06A3   1CCC           00060         btfss   flag_user_err,F
06A4   14DC           00061         bsf     flag_user1,F
06A5   18DC           00062         btfsc   flag_user1,F
06A6   0008           00063         return
                      00064         
06A7   01CC           00065         clrf    flag_user_err
06A8   01DD           00066         clrf    flag_user2
06A9   0825           00067         movfw   user1
06AA   0650           00068         xorwf   A1,0
06AB   1D03           00069         btfss   STATUS,Z
06AC   14CC           00070         bsf     flag_user_err,F
06AD   0826           00071         movfw   user2
06AE   0651           00072         xorwf   A2,0
06AF   1D03           00073         btfss   STATUS,Z
06B0   14CC           00074         bsf     flag_user_err,F
06B1   0827           00075         movfw   user3
06B2   0652           00076         xorwf   A3,0
06B3   1D03           00077         btfss   STATUS,Z
06B4   14CC           00078         bsf     flag_user_err,F
06B5   1CCC           00079         btfss   flag_user_err,F
06B6   14DD           00080         bsf     flag_user2,F
06B7   18DD           00081         btfsc   flag_user2,F
06B8   0008           00082         return
                      00083         
06B9   01CC           00084         clrf    flag_user_err
06BA   01DE           00085         clrf    flag_user3
06BB   0825           00086         movfw   user1
06BC   0653           00087         xorwf   B1,0
06BD   1D03           00088         btfss   STATUS,Z
06BE   14CC           00089         bsf     flag_user_err,F
06BF   0826           00090         movfw   user2
06C0   0654           00091         xorwf   B2,0
06C1   1D03           00092         btfss   STATUS,Z
06C2   14CC           00093         bsf     flag_user_err,F
06C3   0827           00094         movfw   user3
06C4   0655           00095         xorwf   B3,0
06C5   1D03           00096         btfss   STATUS,Z
06C6   14CC           00097         bsf     flag_user_err,F
06C7   1CCC           00098         btfss   flag_user_err,F
06C8   14DE           00099         bsf     flag_user3,F
06C9   18DE           00100         btfsc   flag_user3,F
06CA   0008           00101         return
                      00102         
06CB   01CC           00103         clrf    flag_user_err
06CC   01DF           00104         clrf    flag_user4
06CD   0825           00105         movfw   user1
06CE   0656           00106         xorwf   C1,0
06CF   1D03           00107         btfss   STATUS,Z
06D0   14CC           00108         bsf     flag_user_err,F
06D1   0826           00109         movfw   user2
MPASM 5.87                          MAIN.ASM   10-3-2021  23:47:04         PAGE 44


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

06D2   0657           00110         xorwf   C2,0
06D3   1D03           00111         btfss   STATUS,Z
06D4   14CC           00112         bsf     flag_user_err,F
06D5   0827           00113         movfw   user3
06D6   0658           00114         xorwf   C3,0
06D7   1D03           00115         btfss   STATUS,Z
06D8   14CC           00116         bsf     flag_user_err,F
06D9   1CCC           00117         btfss   flag_user_err,F
06DA   14DF           00118         bsf     flag_user4,F
06DB   18DF           00119         btfsc   flag_user4,F
06DC   0008           00120         return
                      00121         
06DD   01CC           00122         clrf    flag_user_err
06DE   01E0           00123         clrf    flag_user5
06DF   0825           00124         movfw   user1
06E0   0659           00125         xorwf   D1,0
06E1   1D03           00126         btfss   STATUS,Z
06E2   14CC           00127         bsf     flag_user_err,F
06E3   0826           00128         movfw   user2
06E4   065A           00129         xorwf   D2,0
06E5   1D03           00130         btfss   STATUS,Z
06E6   14CC           00131         bsf     flag_user_err,F
06E7   0827           00132         movfw   user3
06E8   065B           00133         xorwf   D3,0
06E9   1D03           00134         btfss   STATUS,Z
06EA   14CC           00135         bsf     flag_user_err,F
06EB   1CCC           00136         btfss   flag_user_err,F
06EC   14E0           00137         bsf     flag_user5,F
06ED   0008           00138         return
                      00139 
06EE                  00140 New_user:
                      00141         ;flag testa e envia para um dos labels de senha
06EE   18DC           00142         btfsc   flag_user1,F
06EF   2???           00143         goto    change_U
06F0   18DD           00144         btfsc   flag_user2,F
06F1   2???           00145         goto    change_A
06F2   18DE           00146         btfsc   flag_user3,F
06F3   2???           00147         goto    change_B
06F4   18DF           00148         btfsc   flag_user4,F
06F5   2???           00149         goto    change_C
06F6   18E0           00150         btfsc   flag_user5,F
06F7   2???           00151         goto    change_D
06F8   2???           00152         goto    User_retorno
06F9                  00153 change_U:
06F9   0825           00154         movfw   user1
06FA   00CD           00155         movwf   U1
06FB   0826           00156         movfw   user2
06FC   00CE           00157         movwf   U2
06FD   0827           00158         movfw   user3
06FE   00CF           00159         movwf   U3
06FF   0008           00160         return
0700                  00161 change_A:
0700   0825           00162         movfw   user1
MPASM 5.87                          MAIN.ASM   10-3-2021  23:47:04         PAGE 45


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0701   00D0           00163         movwf   A1
0702   0826           00164         movfw   user2
0703   00D1           00165         movwf   A2
0704   0827           00166         movfw   user3
0705   00D2           00167         movwf   A3
0706   0008           00168         return
0707                  00169 change_B:
0707   0825           00170         movfw   user1
0708   00D3           00171         movwf   B1
0709   0826           00172         movfw   user2
070A   00D4           00173         movwf   B2
070B   0827           00174         movfw   user3
070C   00D5           00175         movwf   B3
070D   0008           00176         return
070E                  00177 change_C:
070E   0825           00178         movfw   user1
070F   00D6           00179         movwf   C1
0710   0826           00180         movfw   user2
0711   00D7           00181         movwf   C2
0712   0827           00182         movfw   user3
0713   00D8           00183         movwf   C3
0714   0008           00184         return
0715                  00185 change_D:
0715   0825           00186         movfw   user1
0716   00D9           00187         movwf   D1
0717   0826           00188         movfw   user2
0718   00DA           00189         movwf   D2
0719   0827           00190         movfw   user3
071A   00DB           00191         movwf   D3
071B   0008           00192         return
                      00193         
                      00915         
2F02                  00916         end
MPASM 5.87                          MAIN.ASM   10-3-2021  23:47:04         PAGE 46


SYMBOL TABLE
  LABEL                             VALUE 

A1                                00000050
A2                                00000051
A3                                00000052
ACKDT                             00000005
ACKEN                             00000004
ACKSTAT                           00000006
ADCON0                            0000001F
ADCON1                            0000009F
ADCS0                             00000006
ADCS1                             00000007
ADCS2                             00000006
ADDEN                             00000003
ADFM                              00000007
ADIE                              00000006
ADIF                              00000006
ADON                              00000000
ADRESH                            0000001E
ADRESL                            0000009E
Abrir_fechadura                   000000F4
B1                                00000053
B2                                00000054
B3                                00000055
BCLIE                             00000003
BCLIF                             00000003
BF                                00000000
BRGH                              00000002
C                                 00000000
C1                                00000056
C1INV                             00000004
C1OUT                             00000006
C2                                00000057
C2INV                             00000005
C2OUT                             00000007
C3                                00000058
CCP1CON                           00000017
CCP1IE                            00000002
CCP1IF                            00000002
CCP1M0                            00000000
CCP1M1                            00000001
CCP1M2                            00000002
CCP1M3                            00000003
CCP1X                             00000005
CCP1Y                             00000004
CCP2CON                           0000001D
CCP2IE                            00000000
CCP2IF                            00000000
CCP2M0                            00000000
CCP2M1                            00000001
CCP2M2                            00000002
CCP2M3                            00000003
CCP2X                             00000005
CCP2Y                             00000004
CCPR1                             00000015
MPASM 5.87                          MAIN.ASM   10-3-2021  23:47:04         PAGE 47


SYMBOL TABLE
  LABEL                             VALUE 

CCPR1H                            00000016
CCPR1L                            00000015
CCPR2                             0000001B
CCPR2H                            0000001C
CCPR2L                            0000001B
CHS0                              00000003
CHS1                              00000004
CHS2                              00000005
CIS                               00000003
CKE                               00000006
CKP                               00000004
CM0                               00000000
CM1                               00000001
CM2                               00000002
CMCON                             0000009C
CMIE                              00000006
CMIF                              00000006
CREN                              00000004
CSRC                              00000007
CURSOR_A_DIREITA                  00000014
CURSOR_A_ESQUERDA                 00000010
CVR0                              00000000
CVR1                              00000001
CVR2                              00000002
CVR3                              00000003
CVRCON                            0000009D
CVREN                             00000007
CVROE                             00000006
CVRR                              00000005
Change_pass_return                0000025C
Change_user_password              00000140
Col1                              PORTB,0
Col2                              PORTB,1
Col3                              PORTB,2
Col4                              PORTB,3
D                                 00000005
D1                                00000059
D2                                0000005A
D3                                0000005B
DATA_ADDRESS                      00000005
DC                                00000001
D_A                               00000005
D_NOT_A                           00000005
Delay_LCD                         000002CE
EEADR                             0000010D
EEADRH                            0000010F
EECON1                            0000018C
EECON2                            0000018D
EEDATA                            0000010C
EEDATH                            0000010E
EEIE                              00000004
EEIF                              00000004
EEPGD                             00000007
MPASM 5.87                          MAIN.ASM   10-3-2021  23:47:04         PAGE 48


SYMBOL TABLE
  LABEL                             VALUE 

EnviaCarLCD                       000002C0
EnviaCmdLCD                       000002C7
Envia_cmd_fechar_LCD              000003F9
Enviar_msg_change_user2_LCD       0000046D
Enviar_msg_change_user_LCD        00000452
Enviar_msg_senha                  000000A1
Enviar_msg_senha_change_Pass      000001FF
Enviar_new_user                   000001B4
Enviar_senha                      000000D4
Enviar_senha_pass_change          00000244
Enviar_user                       00000091
Enviar_user2                      00000130
Enviar_user_change_pass           000001EF
Exibir_NEW_pass_LCD               000004DF
Exibir_novo_user_LCD              00000492
Exibir_old_pass_LCD               000004C0
Exibir_senha_alterada_LCD         000004FC
F                                 00000001
FERR                              00000002
FSR                               00000004
GCEN                              00000007
GIE                               00000007
GO                                00000002
GO_DONE                           00000002
GO_NOT_DONE                       00000002
I2C_DATA                          00000005
I2C_READ                          00000002
I2C_START                         00000003
I2C_STOP                          00000004
IBF                               00000007
IBOV                              00000005
INDF                              00000000
INTCON                            0000000B
INTE                              00000004
INTEDG                            00000006
INTF                              00000001
IRP                               00000007
Inicia_LCD                        000002B1
Inicia_teclado                    00000015
Iniciar_senhas                    00000676
LCD_CLEAR                         00000001
LCD_DADO                          PORTD
LCD_E                             PORTE,1
LCD_Linha_1                       00000080
LCD_Linha_2                       000000C0
LCD_OFF                           00000008
LCD_ON_CURSOR                     0000000E
LCD_ON_CURSOR_BLINK               0000000F
LCD_ON_NOCURSOR                   0000000C
LCD_RS                            PORTE,0
Linha1                            PORTC,3
Linha2                            PORTC,2
Linha3                            PORTC,1
MPASM 5.87                          MAIN.ASM   10-3-2021  23:47:04         PAGE 49


SYMBOL TABLE
  LABEL                             VALUE 

Linha4                            PORTC,0
Loop3                             00000108
Loop_change_user_pass1            00000200
Loop_change_user_pass2            0000020D
Loop_change_user_pass3            0000021A
Loop_change_user_pass4            00000227
Loop_change_user_pass5            00000234
Loop_user_change_pass1            000001C5
Loop_user_change_pass2            000001D2
Loop_user_change_pass3            000001DF
Lop1                              00000073
Lop2                              000000A4
Lop4                              00000112
Lop_user_1                        00000143
Loper                             00000028
MENSAJE_DIREITA                   0000001C
MENSAJE_ESQUERDA                  00000018
Mudar_user                        00000193
NOT_A                             00000005
NOT_ADDRESS                       00000005
NOT_BO                            00000000
NOT_BOR                           00000000
NOT_DONE                          00000002
NOT_PD                            00000003
NOT_POR                           00000001
NOT_RBPU                          00000007
NOT_RC8                           00000006
NOT_T1SYNC                        00000002
NOT_TO                            00000004
NOT_TX8                           00000006
NOT_W                             00000002
NOT_WRITE                         00000002
New_pass1                         00000263
New_pass2                         00000270
New_pass3                         0000027D
New_pass4                         0000028A
New_pass5                         00000297
New_password                      00000634
New_user                          000006EE
New_user1                         00000196
New_user2                         0000019F
New_user3                         000001A8
OBF                               00000006
OERR                              00000001
ON_C                              00000064
OPTION_REG                        00000081
Opcao2                            000001BE
P                                 00000004
PCFG0                             00000000
PCFG1                             00000001
PCFG2                             00000002
PCFG3                             00000003
PCL                               00000002
MPASM 5.87                          MAIN.ASM   10-3-2021  23:47:04         PAGE 50


SYMBOL TABLE
  LABEL                             VALUE 

PCLATH                            0000000A
PCON                              0000008E
PEIE                              00000006
PEN                               00000002
PIE1                              0000008C
PIE2                              0000008D
PIR1                              0000000C
PIR2                              0000000D
PORTA                             00000005
PORTB                             00000006
PORTC                             00000007
PORTD                             00000008
PORTE                             00000009
PR2                               00000092
PS0                               00000000
PS1                               00000001
PS2                               00000002
PSA                               00000003
PSPIE                             00000007
PSPIF                             00000007
PSPMODE                           00000004
Pass_1                            00000182
Pass_2                            00000184
Pass_3                            00000186
Pass_4                            00000188
Pass_5                            0000018A
Pass_change1                      00000253
Pass_change2                      00000255
Pass_change3                      00000257
Pass_change4                      00000259
Pass_change5                      0000025B
Pass_changer_routine              00000262
R                                 00000002
RA0                               00000000
RA1                               00000001
RA2                               00000002
RA3                               00000003
RA4                               00000004
RA5                               00000005
RB0                               00000000
RB1                               00000001
RB2                               00000002
RB3                               00000003
RB4                               00000004
RB5                               00000005
RB6                               00000006
RB7                               00000007
RBIE                              00000003
RBIF                              00000000
RC0                               00000000
RC1                               00000001
RC2                               00000002
RC3                               00000003
MPASM 5.87                          MAIN.ASM   10-3-2021  23:47:04         PAGE 51


SYMBOL TABLE
  LABEL                             VALUE 

RC4                               00000004
RC5                               00000005
RC6                               00000006
RC7                               00000007
RC8_9                             00000006
RC9                               00000006
RCD8                              00000000
RCEN                              00000003
RCIE                              00000005
RCIF                              00000005
RCREG                             0000001A
RCSTA                             00000018
RD                                00000000
RD0                               00000000
RD1                               00000001
RD2                               00000002
RD3                               00000003
RD4                               00000004
RD5                               00000005
RD6                               00000006
RD7                               00000007
RE0                               00000000
RE1                               00000001
RE2                               00000002
READ_WRITE                        00000002
RP0                               00000005
RP1                               00000006
RSEN                              00000001
RX9                               00000006
RX9D                              00000000
R_NOT_W                           00000002
R_W                               00000002
Relay_off                         000000FE
Relay_on                          000000FA
S                                 00000003
SEN                               00000000
SMP                               00000007
SPBRG                             00000099
SPEN                              00000007
SREN                              00000005
SSPADD                            00000093
SSPBUF                            00000013
SSPCON                            00000014
SSPCON2                           00000091
SSPEN                             00000005
SSPIE                             00000003
SSPIF                             00000003
SSPM0                             00000000
SSPM1                             00000001
SSPM2                             00000002
SSPM3                             00000003
SSPOV                             00000006
SSPSTAT                           00000094
MPASM 5.87                          MAIN.ASM   10-3-2021  23:47:04         PAGE 52


SYMBOL TABLE
  LABEL                             VALUE 

STATUS                            00000003
SYNC                              00000004
Send_pass                         000002A7
Send_user_pass                    00000173
Senha1                            000000E3
Senha2                            000000E5
Senha3                            000000E7
Senha4                            000000E9
Senha5                            000000EB
Senha_2dig                        000000AD
Senha_3dig                        000000B6
Senha_4dig                        000000BF
Senha_5dig                        000000C8
Senha_erro                        000000EF
Senha_erro_pass_changer           0000025F
Senha_user_2                      0000014C
Senha_user_3                      00000155
Senha_user_4                      0000015E
Senha_user_5                      00000167
Set_password                      00000593
T0CS                              00000005
T0IE                              00000005
T0IF                              00000002
T0SE                              00000004
T1CKPS0                           00000004
T1CKPS1                           00000005
T1CON                             00000010
T1INSYNC                          00000002
T1OSCEN                           00000003
T1SYNC                            00000002
T2CKPS0                           00000000
T2CKPS1                           00000001
T2CON                             00000012
TECLA_1_2                         00000069
TEMPO1                            0000002D
TEMPO2                            0000002E
TMR0                              00000001
TMR0IE                            00000005
TMR0IF                            00000002
TMR1                              0000000E
TMR1CS                            00000001
TMR1H                             0000000F
TMR1IE                            00000000
TMR1IF                            00000000
TMR1L                             0000000E
TMR1ON                            00000000
TMR2                              00000011
TMR2IE                            00000001
TMR2IF                            00000001
TMR2ON                            00000002
TOUTPS0                           00000003
TOUTPS1                           00000004
TOUTPS2                           00000005
MPASM 5.87                          MAIN.ASM   10-3-2021  23:47:04         PAGE 53


SYMBOL TABLE
  LABEL                             VALUE 

TOUTPS3                           00000006
TRISA                             00000085
TRISA0                            00000000
TRISA1                            00000001
TRISA2                            00000002
TRISA3                            00000003
TRISA4                            00000004
TRISA5                            00000005
TRISB                             00000086
TRISB0                            00000000
TRISB1                            00000001
TRISB2                            00000002
TRISB3                            00000003
TRISB4                            00000004
TRISB5                            00000005
TRISB6                            00000006
TRISB7                            00000007
TRISC                             00000087
TRISC0                            00000000
TRISC1                            00000001
TRISC2                            00000002
TRISC3                            00000003
TRISC4                            00000004
TRISC5                            00000005
TRISC6                            00000006
TRISC7                            00000007
TRISD                             00000088
TRISD0                            00000000
TRISD1                            00000001
TRISD2                            00000002
TRISD3                            00000003
TRISD4                            00000004
TRISD5                            00000005
TRISD6                            00000006
TRISD7                            00000007
TRISE                             00000089
TRISE0                            00000000
TRISE1                            00000001
TRISE2                            00000002
TRMT                              00000001
TX8_9                             00000006
TX9                               00000006
TX9D                              00000000
TXD8                              00000000
TXEN                              00000005
TXIE                              00000004
TXIF                              00000004
TXREG                             00000019
TXSTA                             00000098
Testa_2                           00000103
U1                                0000004D
U2                                0000004E
U3                                0000004F
MPASM 5.87                          MAIN.ASM   10-3-2021  23:47:04         PAGE 54


SYMBOL TABLE
  LABEL                             VALUE 

UA                                00000001
User_pass_error                   0000018E
User_retorno                      0000018B
Usuario_2dig                      0000007C
Usuario_3dig                      00000085
Usuario_4dig                      0000011B
Usuario_5dig                      00000124
Usuario_change_error              00000138
Usuario_erro                      00000099
Usuario_erro_change_pass          000001F7
Verify_password                   000005C6
Verify_password2                  000005DC
Verify_password3                  000005F2
Verify_password4                  00000608
Verify_password5                  0000061E
Verify_user                       00000695
W                                 00000000
WCOL                              00000007
WR                                00000001
WREN                              00000002
WRERR                             00000003
Z                                 00000002
_.org_1_0063                      00000063
_.org_1_007E                      0000007E
_.org_1_0087                      00000087
_.org_1_0090                      00000090
_.org_1_00AF                      000000AF
_.org_1_00B8                      000000B8
_.org_1_00C1                      000000C1
_.org_1_00CA                      000000CA
_.org_1_00D3                      000000D3
_.org_1_00F9                      000000F9
_.org_1_010A                      0000010A
_.org_1_011D                      0000011D
_.org_1_0126                      00000126
_.org_1_012F                      0000012F
_.org_1_014E                      0000014E
_.org_1_0157                      00000157
_.org_1_0160                      00000160
_.org_1_0169                      00000169
_.org_1_0172                      00000172
_.org_1_01A1                      000001A1
_.org_1_01AA                      000001AA
_.org_1_01B3                      000001B3
_.org_1_01D4                      000001D4
_.org_1_01E1                      000001E1
_.org_1_01EE                      000001EE
_.org_1_020F                      0000020F
_.org_1_021C                      0000021C
_.org_1_0229                      00000229
_.org_1_0236                      00000236
_.org_1_0243                      00000243
_.org_1_0272                      00000272
MPASM 5.87                          MAIN.ASM   10-3-2021  23:47:04         PAGE 55


SYMBOL TABLE
  LABEL                             VALUE 

_.org_1_027F                      0000027F
_.org_1_028C                      0000028C
_.org_1_0299                      00000299
_.org_1_02A6                      000002A6
_.org_1_02D3                      000002D3
_.org_1_02D5                      000002D5
_.org_1_0525                      00000525
_.org_1_0527                      00000527
_.org_1_052E                      0000052E
_.org_1_0530                      00000530
_.org_1_0537                      00000537
_.org_1_0539                      00000539
_.org_1_0540                      00000540
_.org_1_0542                      00000542
_.org_1_0549                      00000549
_.org_1_054B                      0000054B
_.org_1_0552                      00000552
_.org_1_0554                      00000554
_.org_1_055B                      0000055B
_.org_1_055D                      0000055D
_.org_1_0566                      00000566
_.org_1_0568                      00000568
_.org_1_056A                      0000056A
_.org_1_0573                      00000573
_.org_1_0575                      00000575
_.org_1_0577                      00000577
_.org_1_0580                      00000580
_.org_1_0582                      00000582
_.org_1_0584                      00000584
_.org_1_058D                      0000058D
_.org_1_058F                      0000058F
_.org_1_0591                      00000591
_BODEN_OFF                        00003FBF
_BODEN_ON                         00003FFF
_BOREN_OFF                        00003FBF
_BOREN_ON                         00003FFF
_CONFIG                           00002007
_CPD_OFF                          00003FFF
_CPD_ON                           00003EFF
_CP_ALL                           00001FFF
_CP_OFF                           00003FFF
_CP_ON                            00001FFF
_DEBUG_OFF                        00003FFF
_DEBUG_ON                         000037FF
_DEVID1                           00002006
_FOSC_EXTRC                       00003FFF
_FOSC_HS                          00003FFE
_FOSC_LP                          00003FFC
_FOSC_XT                          00003FFD
_HS_OSC                           00003FFE
_IDLOC0                           00002000
_IDLOC1                           00002001
_IDLOC2                           00002002
MPASM 5.87                          MAIN.ASM   10-3-2021  23:47:04         PAGE 56


SYMBOL TABLE
  LABEL                             VALUE 

_IDLOC3                           00002003
_LP_OSC                           00003FFC
_LVP_OFF                          00003F7F
_LVP_ON                           00003FFF
_PWRTE_OFF                        00003FFF
_PWRTE_ON                         00003FF7
_RC_OSC                           00003FFF
_WDTE_OFF                         00003FFB
_WDTE_ON                          00003FFF
_WDT_OFF                          00003FFB
_WDT_ON                           00003FFF
_WRT_1FOURTH                      00003BFF
_WRT_256                          00003DFF
_WRT_HALF                         000039FF
_WRT_OFF                          00003FFF
_XT_OSC                           00003FFD
__16F877A                         00000001
__DEBUG                           
a1                                00000038
a2                                00000039
a3                                0000003A
a4                                0000003B
a5                                0000003C
ascii_key                         00000004
b1                                0000003D
b2                                0000003E
b3                                0000003F
b4                                00000040
b5                                00000041
banco0                            
banco1                            
c1                                00000042
c2                                00000043
c3                                00000044
c4                                00000045
c5                                00000046
change_A                          00000700
change_B                          00000707
change_C                          0000070E
change_D                          00000715
change_U                          000006F9
change_pass_A                     0000064A
change_pass_B                     00000655
change_pass_C                     00000660
change_pass_D                     0000066B
change_pass_U                     0000063F
checa_BCD                         00000048
codifica                          0000003A
conta_kp                          0000002A
contador1                         0000002F
contador2                         00000030
contador3                         00000031
d1                                00000047
MPASM 5.87                          MAIN.ASM   10-3-2021  23:47:04         PAGE 57


SYMBOL TABLE
  LABEL                             VALUE 

d2                                00000048
d3                                00000049
d4                                0000004A
d5                                0000004B
delay_100ms                       0000056C
delay_10ms                        0000054D
delay_1ms                         00000520
delay_1s                          00000586
delay_20ms                        00000556
delay_2ms                         00000529
delay_3ms                         00000532
delay_4ms                         0000053B
delay_500ms                       00000579
delay_50ms                        0000055F
delay_5ms                         00000544
dig1                              00000020
dig2                              00000021
dig3                              00000022
dig4                              00000023
dig5                              00000024
envia_msg_LCD                     000002D7
envia_msg_abrir_LCD               000003D3
envia_msg_entrar_LCD              00000353
envia_msg_erro_LCD                00000368
envia_msg_menu_LCD                00000310
envia_msg_opcao_LCD               00000419
envia_msg_senha_LCD               0000039C
envia_msg_senha_erro_LCD          000003AD
flag_error                        00000032
flag_user1                        0000005C
flag_user2                        0000005D
flag_user3                        0000005E
flag_user4                        0000005F
flag_user5                        00000060
flag_user_err                     0000004C
fpress                            0000002B
ld_deb                            0000003E
main                              00000061
p1                                00000033
p2                                00000034
p3                                00000035
p4                                00000036
p5                                00000037
ptr_car                           0000002C
retorno                           000000EC
scan_cols                         0000002D
setup                             00000052
tecla                             00000029
teclado                           0000001D
user1                             00000025
user2                             00000026
user3                             00000027

MPASM 5.87                          MAIN.ASM   10-3-2021  23:47:04         PAGE 58





Errors   :     0
Warnings :     0 reported,     0 suppressed
Messages :     0 reported,     6 suppressed

